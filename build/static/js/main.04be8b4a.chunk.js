(this.webpackJsonpwineth=this.webpackJsonpwineth||[]).push([[0],{299:function(e,t,a){e.exports=a(812)},313:function(e,t){},315:function(e,t){},327:function(e,t){},329:function(e,t){},357:function(e,t){},359:function(e,t){},360:function(e,t){},366:function(e,t){},368:function(e,t){},386:function(e,t){},389:function(e,t){},405:function(e,t){},408:function(e,t){},436:function(e,t){},445:function(e,t){},463:function(e,t){},465:function(e,t){},478:function(e,t){},479:function(e,t){},50:function(e,t,a){e.exports=a.p+"static/media/logo.c1084b5b.png"},538:function(e,t){},549:function(e,t){},552:function(e,t){},604:function(e,t,a){var n={"./bucket_1.png":605,"./bucket_2.png":606,"./bucket_3.png":607,"./bucket_4.png":608,"./bucket_5.png":609};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=604},605:function(e,t,a){e.exports=a.p+"static/media/bucket_1.a3a057d4.png"},606:function(e,t,a){e.exports=a.p+"static/media/bucket_2.0d0a64cd.png"},607:function(e,t,a){e.exports=a.p+"static/media/bucket_3.d598c841.png"},608:function(e,t,a){e.exports=a.p+"static/media/bucket_4.ba0d6663.png"},609:function(e,t,a){e.exports=a.p+"static/media/bucket_5.df236919.png"},811:function(e,t,a){},812:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(290),c=a.n(l),o=a(11),i=Object(n.createContext)(),s=function(e){var t=e.children,a=Object(n.useState)(null),l=Object(o.a)(a,2),c=l[0],s=l[1],u=Object(n.useState)(!0),d=Object(o.a)(u,2),m=d[0],v=d[1];Object(n.useEffect)((function(){var e=localStorage.getItem("@storage");try{e&&s(null),s(JSON.parse(e))}catch(t){console.log(t)}finally{v(!1)}}),[]);var f=Object(n.useCallback)((function(e){localStorage.removeItem("@storage"),localStorage.setItem("@storage",JSON.stringify(e)),s(e)}),[]),p=Object(n.useCallback)((function(e){localStorage.setItem("@storage",JSON.stringify(e)),s(e)}),[]),b=Object(n.useCallback)((function(){localStorage.removeItem("@storage"),s(null)}),[]);return m?r.a.createElement("p",null,"loading...."):r.a.createElement(i.Provider,{value:{user:c,signIn:p,signOut:b,isLoggedIn:!!c,reload:f},children:t})},u=a(32),d=a(25),m=a(296),v=function(){return Object(n.useContext)(i)},f=function(e){var t=e.component,a=Object(m.a)(e,["component"]),n=v().isLoggedIn;return r.a.createElement(d.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/sign-in"})}}))},p=a(43),b=a(85),g=a(67),E=function(e){var t=e.message,a=e.icon,n=e.routeName,l=e.dropdown,c=e.onClick;return r.a.createElement(u.b,{onClick:c,to:n,className:"list-tile"},r.a.createElement("div",{className:"list-tile-content"},r.a.createElement("div",null,a,r.a.createElement("span",null,t)),l&&r.a.createElement(p.a,{className:"list-tile-icon icon"})))},h=[{id:1,routeName:"/",message:"Dashboard",icon:r.a.createElement(p.b,{className:"list-tile-icon"})},{id:2,routeName:"/partners",message:"Partners",icon:r.a.createElement(b.a,{className:"list-tile-icon"})},{id:3,routeName:"/profits",message:"Profits",icon:r.a.createElement(p.d,{className:"list-tile-icon"})}],O=function(e){var t=v().user;return r.a.createElement("aside",{className:"sidebar ".concat(e.active?"sidebar-show":"")},r.a.createElement("ul",{className:"sidebar-list"},h.map((function(a){var n="/";return n="/partners"===a.routeName||"/profits"===a.routeName?"".concat(a.routeName,"/").concat((null===t||void 0===t?void 0:t.token)?Object(g.decode)(t.token).id:t.id):a.routeName,r.a.createElement("li",{key:a.id},r.a.createElement(E,{onClick:function(){return e.onSize(!e.active)},message:a.message,routeName:n,icon:a.icon,dropdown:!0}))}))))},j=a(291),k=a(50),N=a.n(k),w=a(53),S=function(){var e=v(),t=e.signOut,a=e.user,l=Object(n.useState)(!1),c=Object(o.a)(l,2),i=c[0],s=c[1];return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{onClick:function(){return s((function(e){return!e}))},className:"dropdown-user"},r.a.createElement("div",null,(null===a||void 0===a?void 0:a.account)?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,null===a||void 0===a?void 0:a.account),r.a.createElement(w.a,{className:"dropdown-icon dropdown-disabled"})):r.a.createElement(w.a,{className:"dropdown-icon"}),r.a.createElement(p.e,{className:"dropdown-icon"}))),i&&r.a.createElement("ul",{className:"dropdown-list"},r.a.createElement("li",{className:"dropdown-item"},r.a.createElement(u.b,{to:"#",onClick:function(){return t()}},"Logout"))))},y=function(e){var t=v().user,a=Object(n.useState)(!1),l=Object(o.a)(a,1)[0];return r.a.createElement("header",{className:"navbar"},r.a.createElement("nav",{className:"nav"},r.a.createElement("div",{className:"nav-left"},r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){return e.onSize(!e.size)}},r.a.createElement(p.c,{className:"nav-menu"})),r.a.createElement("ol",{className:"nav-breadcrumb"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/"},"Dashboard")),r.a.createElement("span",null,"/"))),r.a.createElement("div",{className:"nav-brand"},r.a.createElement(u.b,{to:"/"},r.a.createElement("img",{src:N.a,alt:"Logo wineth"}))),(null===t||void 0===t?void 0:t.isActive)&&r.a.createElement("ul",{className:"nav-referer"},r.a.createElement("li",{className:"nav-link"},"http://localhost:3000/sign-up/",Object(g.decode)(null===t||void 0===t?void 0:t.token).id),r.a.createElement(j.CopyToClipboard,{onCopy:function(){return l(!0)},text:"http://localhost:3000/sign-up/".concat(Object(g.decode)(null===t||void 0===t?void 0:t.token).id)},r.a.createElement("span",{className:"nav-copy"},"Copiar")))),r.a.createElement(S,null)))},C=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",null,"Copyright \xa9 ",(new Date).getFullYear(),", All rights reserved."))},L=function(e){var t=e.children,a=v().isLoggedIn,l=Object(n.useState)(!1),c=Object(o.a)(l,2),i=c[0],s=c[1],u=function(e){return s(e)};return a?r.a.createElement("div",{className:"layout"},r.a.createElement(y,{onSize:u,size:i}),r.a.createElement(O,{active:i,onSize:u}),r.a.createElement("section",{className:"layout-content"},t,r.a.createElement(C,null))):r.a.createElement(d.a,{to:"/sign-in"})},I=a(293),A=function(e){var t=e.logo,a=e.total,n=e.title;return r.a.createElement("div",{className:"card"},t,r.a.createElement("div",null,r.a.createElement("span",null,n),r.a.createElement("span",null,a)))},x=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"shimmer-effect"}),r.a.createElement("div",{className:"shimmer-effect"}),r.a.createElement("div",{className:"shimmer-effect"}),r.a.createElement("div",{className:"shimmer-effect"}))},P=a(21),_=a.n(P),F=a(65),T="https://wineth.live/api",z=a(40),M=a.n(z),D=function(e){var t=e.url,a=e.body,r=e.method,l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=v(),i=c.user,s=Object(n.useState)(l),u=Object(o.a)(s,2),d=u[0],m=u[1],f=Object(n.useState)(""),p=Object(o.a)(f,2),b=p[0],g=p[1],E=Object(n.useState)({}),h=Object(o.a)(E,2),O=h[0],j=h[1],k=Object(n.useState)(!1),N=Object(o.a)(k,2),w=N[0],S=N[1],y=Object(n.useCallback)(function(){var e=Object(F.a)(_.a.mark((function e(n){var l,c,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(l=new Headers).append("Content-Type","application/json"),l.append("Authorization","".concat(null===i||void 0===i?void 0:i.token)),m(!0),e.next=7,fetch("".concat(T).concat(t),{headers:l,method:r,body:n?JSON.stringify(n):JSON.stringify(a)});case 7:return c=e.sent,e.next=10,c.json();case 10:o=e.sent,j(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),g(e.t0.toString());case 17:return e.prev=17,m(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[t,a,r,i]);return Object(n.useEffect)((function(){(l||w)&&y()}),[y,l,w]),[{isFetching:d,error:b,data:O},y,S]},W=function(e){var t=v().user,a=e.refetch,l=D({url:"/user/profits",method:"GET"},!1),c=Object(o.a)(l,2),i=c[0],s=i.isFetching,u=i.data,d=i.error,m=c[1],f=D({url:"/user/profits/".concat(null===t||void 0===t?void 0:t.id),method:"GET"},!1),p=Object(o.a)(f,2),g=p[0],E=g.isFetching,h=g.data,O=p[1];return Object(n.useEffect)((function(){(null===t||void 0===t?void 0:t.id)?O():m()}),[]),Object(n.useEffect)((function(){a&&m()}),[a]),s||E?r.a.createElement(x,null):d?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{logo:r.a.createElement(w.a,{className:"home-icon"}),title:"Ganancias Ethereum",total:(null===h||void 0===h?void 0:h.profits)?h.profits?h.profits:0:(null===u||void 0===u?void 0:u.profits)?u.profits:0}),r.a.createElement(A,{logo:r.a.createElement(I.a,{className:"home-icon"}),title:"Ganancias en Dolares",total:"$".concat((null===h||void 0===h?void 0:h.usdProfits)?h.usdProfits?h.usdProfits:"0.00":(null===u||void 0===u?void 0:u.usdProfits)?u.usdProfits:"0.00")}),r.a.createElement(A,{logo:r.a.createElement(b.a,{className:"home-icon"}),title:"Total Partners",total:(null===h||void 0===h?void 0:h.partners)?h.partners?h.partners:0:(null===u||void 0===u?void 0:u.partners)?u.partners:0}),r.a.createElement(A,{logo:r.a.createElement(w.b,{className:"home-icon"}),title:"Ultimo Bucket",total:(null===h||void 0===h?void 0:h.lastBucket)?h.lastBucket?h.lastBucket:0:(null===u||void 0===u?void 0:u.lastBucket)?u.lastBucket:0}))},B=function(e){var t=e.message,a=e.onClick,n=e.variant,l=e.disabled;return r.a.createElement("input",{disabled:l,type:"button",value:t,className:"button ".concat(l?"button-disabled":""," ").concat(n?"button-outline":""),onClick:a})},V=function(){return r.a.createElement("div",{className:"loader"})},G=function(e){var t=v().user,n=e.name,l=e.price,c=e.id,o=e.onClick,i=e.isLoading,s=e.bucketId,u=e.active,d=e.expire,m=e.isEnabled;return r.a.createElement("div",{className:"bucket"},r.a.createElement("div",{className:"bucket-img"},r.a.createElement("img",{src:a(604)("./bucket_".concat(c,".png")),alt:"bucket wineth"})),r.a.createElement("div",{className:"bucket-footer"},r.a.createElement("div",{className:"bucket-details"},r.a.createElement("p",null,n),r.a.createElement("span",null,r.a.createElement(w.a,{className:"bucket-icon"}),r.a.createElement("span",{className:"bucket-price"},l))),(null===t||void 0===t?void 0:t.token)?r.a.createElement(r.a.Fragment,null,u&&r.a.createElement("div",{className:"bucket-expire ".concat(d<=5?"bucket-warning":"")},r.a.createElement("span",null,"Expira en ",d," dias")),i&&c===s?r.a.createElement("div",{className:"bucket-loader"},r.a.createElement(V,null)):r.a.createElement(B,{disabled:u||!m,message:"Activar",onClick:o})):null))},J=function(e){var t=e.refetch,a=D({url:"/bucket/getAll/".concat(e.id),method:"GET"}),l=Object(o.a)(a,2),c=l[0],i=c.isFetching,s=c.data,u=c.error,d=l[1],m=D({url:"/matrix/join_red",method:"POST"},!1),v=Object(o.a)(m,2),f=v[0],p=f.isFetching,b=f.data,g=v[1],E=Object(n.useState)(),h=Object(o.a)(E,2),O=h[0],j=h[1];Object(n.useEffect)((function(){(null===b||void 0===b?void 0:b.status)&&e.onModal(!0,O)}),[b,O]),Object(n.useEffect)((function(){t&&d()}),[t]);var k=function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t),g();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i?r.a.createElement("div",{className:"loader-bucket"},r.a.createElement(V,null)):u?null:r.a.createElement(r.a.Fragment,null,null===s||void 0===s?void 0:s.map((function(e){return r.a.createElement(G,{active:e.status,expire:e.expire,onClick:function(){return k(e.id)},key:e.id,id:e.id,bucketId:O,name:e.name,price:e.price,isLoading:p,isEnabled:e.isEnabled})})))},q=function(e){var t=e.children,a=e.onClosed,n=e.className;return r.a.createElement("div",{className:"overlay ".concat(n||"")},r.a.createElement(b.b,{className:"modal-close",onClick:a}),t)},R=a(46),U=function(e){var t=e.message,a=e.className;return r.a.createElement("div",{className:"error ".concat(a||"")},r.a.createElement(p.f,{className:"error-icon"}),r.a.createElement("span",{className:"error-message"},t))},H=function(e){var t=e.step;return r.a.createElement("div",{className:"content-indicator"},r.a.createElement("div",{className:1===t?"progress-indicator-active":"progress-indicator"}," 1 "),r.a.createElement("span",{style:{backgroundColor:2===t?"#0A51A1":"#1b2e4b"}}),r.a.createElement("div",{className:2===t?"progress-indicator-active":"progress-indicator"}," 2 "),r.a.createElement("span",{style:{backgroundColor:3===t?"#0A51A1":"#1b2e4b"}}),r.a.createElement("div",{className:3===t?"progress-indicator-active":"progress-indicator"}," 3 "))},$=new M.a(M.a.givenProvider),Y=function(e){var t,a,l,c,i,s,u,d,m,f,p,b,g=v(),E=g.user,h=g.reload,O=e.isFetching,j=e.data,k=e.bucketId,S=e.onClose,y=e.refetch,C=Object(n.useState)(!1),L=Object(o.a)(C,2),I=L[0],A=L[1],x=Object(n.useState)(1),P=Object(o.a)(x,2),_=P[0],F=P[1],T=D({url:"/transaction/validate",method:"POST"},!1),z=Object(o.a)(T,2),M=z[0],W=M.isFetching,G=M.data,J=z[1],q=Object(n.useState)({step:1,error:{hasError:!1,message:""},info:{amount:null===j||void 0===j||null===(t=j.AscendingLine)||void 0===t||null===(a=t.nivel1)||void 0===a?void 0:a.amount,wallet:null===j||void 0===j||null===(l=j.AscendingLine)||void 0===l||null===(c=l.nivel1)||void 0===c?void 0:c.address,userId:null===j||void 0===j||null===(i=j.AscendingLine)||void 0===i||null===(s=i.nivel1)||void 0===s?void 0:s.user,wei:null===j||void 0===j||null===(u=j.AscendingLine)||void 0===u||null===(d=u.nivel1)||void 0===d?void 0:d.wei,status:null===j||void 0===j||null===(m=j.AscendingLine)||void 0===m||null===(f=m.nivel1)||void 0===f?void 0:f.status},message:""}),Y=Object(o.a)(q,2),K=Y[0],Q=Y[1];Object(n.useEffect)((function(){console.log("change data",null===j||void 0===j?void 0:j.AscendingLine),console.log("bucketId",k)}),[j,k]),Object(n.useEffect)((function(){console.log("compare variable close => ",3===_),console.log("!isLoading => ",!W),console.log("compare close && !isLoading => ",3===_&&!W),console.log("close, !isLoading => ",{close:_,isLoading:W}),3!==_||W||(console.log("confirm comparation =>","refeching..."),h({token:null===E||void 0===E?void 0:E.token,isActive:!0,account:E.account}),y(!0),S((function(e){return!e})),F(1))}),[_]),Object(n.useEffect)((function(){400===(null===G||void 0===G?void 0:G.status)&&Q((function(e){return Object(R.a)(Object(R.a)({},e),{},{error:{hasError:!0,message:null===G||void 0===G?void 0:G.message}})})),200===(null===G||void 0===G?void 0:G.status)&&(null===G||void 0===G?void 0:G.validate)&&Q((function(e){var t,a,n,r,l,c,o,i,s,u,d,m,v,f,p,b,g,E,h,O;return e.step>=3?(F(3),console.log("step >= 3","setClose(3)"),{step:1,error:{hasError:!1,message:""},info:{amount:null===j||void 0===j||null===(d=j.AscendingLine)||void 0===d||null===(m=d.nivel1)||void 0===m?void 0:m.amount,wallet:null===j||void 0===j||null===(v=j.AscendingLine)||void 0===v||null===(f=v.nivel1)||void 0===f?void 0:f.address,userId:null===j||void 0===j||null===(p=j.AscendingLine)||void 0===p||null===(b=p.nivel1)||void 0===b?void 0:b.user,wei:null===j||void 0===j||null===(g=j.AscendingLine)||void 0===g||null===(E=g.nivel1)||void 0===E?void 0:E.wei,status:null===j||void 0===j||null===(h=j.AscendingLine)||void 0===h||null===(O=h.nivel1)||void 0===O?void 0:O.status},message:""}):Object(R.a)(Object(R.a)({},e),{},{step:e.step+1,info:{amount:null===j||void 0===j||null===(t=j.AscendingLine)||void 0===t||null===(a=t["nivel".concat(e.step+1)])||void 0===a?void 0:a.amount,wallet:null===j||void 0===j||null===(n=j.AscendingLine)||void 0===n||null===(r=n["nivel".concat(e.step+1)])||void 0===r?void 0:r.address,userId:null===j||void 0===j||null===(l=j.AscendingLine)||void 0===l||null===(c=l["nivel".concat(e.step+1)])||void 0===c?void 0:c.user,wei:null===j||void 0===j||null===(o=j.AscendingLine)||void 0===o||null===(i=o["nivel".concat(e.step+1)])||void 0===i?void 0:i.wei,status:null===j||void 0===j||null===(s=j.AscendingLine)||void 0===s||null===(u=s["nivel".concat(e.step+1)])||void 0===u?void 0:u.status}})}))}),[G]);return O||W||I?r.a.createElement("div",{className:"progress"},r.a.createElement(V,null),r.a.createElement("p",{className:"progress-message"},K.message)):r.a.createElement("div",{style:{height:K.error.hasError?400:300},className:"progress"},r.a.createElement("img",{className:"progress-img",src:N.a,alt:"wineth"}),r.a.createElement(H,{step:K.step}),r.a.createElement("section",{className:"progress-section"},r.a.createElement("div",{className:"progress-details"},r.a.createElement("span",null,"Monto: "),r.a.createElement("div",null,r.a.createElement(w.a,{className:"progress-icon"}),r.a.createElement("span",null,null===K||void 0===K||null===(p=K.info)||void 0===p?void 0:p.amount))),r.a.createElement("input",{disabled:!0,type:"text",className:"input progress-input",defaultValue:null===K||void 0===K||null===(b=K.info)||void 0===b?void 0:b.wallet}),K.error.hasError&&r.a.createElement(U,{message:K.error.message}),r.a.createElement(B,{message:"Siguiente",onClick:function(){A(!0),Q((function(e){return Object(R.a)(Object(R.a)({},e),{},{message:"Por favor espere, esperando confirmacion."})})),console.log("".concat(K.step," transaccion => "),{step:K.step,from:E.account,to:K.info.wallet,value:$.utils.toWei("".concat(K.info.amount),"ether"),amount:K.info.amount}),console.log("valores a enviar => ",{nivel1:null===j||void 0===j?void 0:j.AscendingLine.nivel1,nivel2:null===j||void 0===j?void 0:j.AscendingLine.nivel2,nivel3:null===j||void 0===j?void 0:j.AscendingLine.nivel3}),$.eth.sendTransaction({from:E.account,to:K.info.wallet,value:$.utils.toWei("".concat(K.info.amount),"ether")}).then((function(e){J({hash:e.transactionHash,amount:K.info.amount,walletReceived:K.info.wallet,bucketId:k,receiveId:K.info.userId}),Q((function(e){return Object(R.a)(Object(R.a)({},e),{},{message:"Verificando transaccion..."})}))})).catch((function(e){return Q((function(t){return console.log(e),Object(R.a)(Object(R.a)({},t),{},{error:{hasError:!0,message:"Error when proceeding with payment"}})}))})).finally((function(){return A(!1)}))}})))},K=a(294),Q=a.n(K),X=function(e){var t=e.params;return r.a.createElement("div",{className:"particle"},r.a.createElement(Q.a,{className:"particles",params:t}))},Z=function(){var e=v().user,t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],m=Object(n.useState)(),f=Object(o.a)(m,2),p=f[0],b=f[1],E=D({method:"GET",url:"/matrix/sponsors/".concat(p)},!1),h=Object(o.a)(E,2),O=h[0],j=O.data,k=O.isFetching,N=O.error,w=h[1];Object(n.useEffect)((function(){console.log(j,k,N)}),[j,k,N]),Object(n.useEffect)((function(){p&&w()}),[p]);var S=function(e){return d(e)},y=Object(n.useMemo)((function(){return r.a.createElement(q,{onClosed:function(){return c((function(e){return!e}))},className:l?"active":""},r.a.createElement(Y,{refetch:S,onClose:c,isFetching:k,data:j,bucketId:p}))}),[l,k,j,p]);return r.a.createElement("div",null,r.a.createElement("div",{className:"home-statistics"},r.a.createElement(W,{refetch:u})),r.a.createElement("main",{className:"l-main"},r.a.createElement(J,{refetch:u,id:(null===e||void 0===e?void 0:e.token)?Object(g.decode)(e.token).id:null===e||void 0===e?void 0:e.id,onModal:function(e,t){c(e),b(t),console.log(e,t)}})),r.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}),(null===j||void 0===j?void 0:j.AscendingLine)&&y)},ee=a(117),te=a.n(ee),ae=function(){var e=v(),t=e.signIn,a=e.isLoggedIn,l=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=navigator.userAgent;/Android|webOS|iPhone|iPad|iPod/i.test(e)&&r(!0)}),[]),{isMobile:a}}().isMobile,c=Object(n.useState)(""),i=Object(o.a)(c,2),s=i[0],u=i[1],m=Object(n.useState)(""),f=Object(o.a)(m,2),p=f[0],b=f[1],g=D({url:"/auth/signin",method:"POST"},!1),E=Object(o.a)(g,2),h=E[0],O=h.error,j=h.isFetching,k=h.data,w=E[1],S=D({url:"/auth/withid/signin",method:"POST"},!1),y=Object(o.a)(S,2),C=y[0],L=C.isFetching,I=C.data,A=y[1],x=Object(n.useState)({hasError:!1,message:""}),P=Object(o.a)(x,2),T=P[0],z=P[1];Object(n.useEffect)((function(){200===(null===I||void 0===I?void 0:I.status)&&t({id:s}),400===(null===I||void 0===I?void 0:I.status)&&z({hasError:!0,message:"System Id is not valid."})}),[I]),Object(n.useEffect)((function(){(function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te()();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",z({hasError:!0,message:"Please install MetaMask!"}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){O&&alert("error network ".concat(O.toString())),O&&z({hasError:!0,message:O.toString()}),200===k.status&&k.accessToken&&t({token:k.accessToken,account:p,isActive:k.isActiveBucket})}),[O,k]);var W=function(){new M.a(M.a.givenProvider).eth.requestAccounts().then((function(e){null!==e[0]&&(b(e[0]),w({wallet:e[0]}))})).catch((function(e){alert("error ".concat(e.toString())),z({hasError:!0,message:e.toString()})}))};return 400===(null===k||void 0===k?void 0:k.status)?r.a.createElement(d.a,{to:"/sign-up"}):a?r.a.createElement(d.a,{to:"/"}):r.a.createElement("div",{className:"l-form"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-img"},r.a.createElement("img",{src:N.a,alt:"Logo Wineth"})),r.a.createElement("input",{className:"input bottom",placeholder:"System ID",onChange:function(e){return u(e.target.value)}}),T.hasError&&r.a.createElement(U,{className:"bottom",message:T.message}),j||L?r.a.createElement(V,null):r.a.createElement(r.a.Fragment,null,l?r.a.createElement(B,{variant:!0,message:"Login con Metamask/TrustWallet",onClick:W}):r.a.createElement(B,{variant:!0,message:"Login con Metamask",onClick:W}),r.a.createElement(B,{onClick:function(){if(!s)return z({hasError:!0,message:"Enter the system id."});A({id:s})},message:"Ingresar"}))),!l&&r.a.createElement(X,{params:{particles:{number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}}))},ne=function(){var e=Object(d.g)().id,t=v(),a=t.signIn,l=t.isLoggedIn,c=Object(n.useState)(""),i=Object(o.a)(c,2),s=i[0],u=i[1],m=D({url:"/auth/signup",method:"POST"},!1),f=Object(o.a)(m,2),p=f[0],b=p.error,g=p.isFetching,E=p.data,h=f[1],O=Object(n.useState)({hasError:!1,message:""}),j=Object(o.a)(O,2),k=j[0],w=j[1];Object(n.useEffect)((function(){(function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te()();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",w({hasError:!0,message:"Please install MetaMask!"}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){b&&alert("error network ".concat(b.toString())),b&&w({hasError:!0,message:b.toString()}),400===E.status&&w({hasError:!0,message:E.message}),200===E.status&&E.accessToken&&a({token:E.accessToken,account:s})}),[b,E]);return l?r.a.createElement(d.a,{to:"/"}):r.a.createElement("div",{className:"l-form"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-img"},r.a.createElement("img",{src:N.a,alt:"Logo Wineth"})),r.a.createElement("input",{className:"input bottom",placeholder:"System ID: ".concat(e||"1"),onChange:console.log,disabled:!0}),k.hasError&&r.a.createElement(U,{className:"bottom",message:k.message}),r.a.createElement("span",{className:"form-message"},"Inicia sesion con metamask para continuar."),g?r.a.createElement(V,null):r.a.createElement(B,{variant:!0,message:"Registro con Metamask/TrustWallet",onClick:function(){new M.a(M.a.givenProvider).eth.requestAccounts().then((function(t){null!==t[0]&&(u(t[0]),h({wallet:t[0],sponsorId:e||1}))})).catch((function(e){alert("error ".concat(e.toString())),w({hasError:!0,message:e.toString()})}))}})),r.a.createElement(X,null))},re=a(295),le=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!==t.current&&new re.a(t.current,{template:"polina",enableSearch:!1,nodes:e.nodes,nodeBinding:{field_0:"userId",field_1:"wallet"},tags:{subLevels0:{subLevels:0},subLevels1:{subLevels:1},subLevels2:{subLevels:2},subLevels3:{subLevels:3}}})}),[e.nodes]),r.a.createElement("div",{id:"tree",ref:t})},ce=function(){var e=Object(d.g)().id,t=v().user,a=D({method:"GET",url:"/matrix/tree/".concat(e)}),n=Object(o.a)(a,1)[0],l=n.isFetching,c=n.data,i=n.error;if(l)return r.a.createElement("div",null,"Fetching...");if(i)return null;return r.a.createElement("div",null,400===(null===c||void 0===c?void 0:c.status)||0===(null===c||void 0===c?void 0:c.treeView.level1.length)?r.a.createElement("p",null,"No data partners"):r.a.createElement(le,{nodes:function(){var a=1,n=[{id:a,wallet:null===t||void 0===t?void 0:t.account,userId:e}];return c.treeView.level1.map((function(e){++a,n.push({id:a,pid:1,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),c.treeView.level2.slice(0,2).map((function(e){++a,n.push({id:a,pid:2,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),c.treeView.level2.slice(2,4).map((function(e){++a,n.push({id:a,pid:3,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),c.treeView.level3.slice(0,2).map((function(e){++a,n.push({id:a,pid:4,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),c.treeView.level3.slice(2,4).map((function(e){++a,n.push({id:a,pid:5,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),c.treeView.level3.slice(4,6).map((function(e){++a,n.push({id:a,pid:6,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),c.treeView.level3.slice(6,8).map((function(e){++a,n.push({id:a,pid:7,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),n}()}),r.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}))},oe=a(831),ie=a(833),se=a(836),ue=a(837),de=a(834),me=a(835),ve=Object(oe.a)({table:{width:600,backgroundColor:"#1A1C2D"},tableCell:{color:"#888ea8"},amount:{color:"#e0e6ed"}}),fe=function(e){var t=ve(),a=Object(d.g)().id,n=D({method:"GET",url:"/user/profits/getdata/".concat(a)}),l=Object(o.a)(n,1)[0],c=l.data,i=l.isFetching;return l.error?null:i?r.a.createElement(V,null):r.a.createElement("div",{className:"l-profit"},r.a.createElement("div",null,r.a.createElement(ie.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(de.a,null,r.a.createElement(me.a,null,r.a.createElement(ue.a,{className:t.tableCell,align:"center"},"ID"),r.a.createElement(ue.a,{className:t.tableCell,align:"center"},"Wallet"),r.a.createElement(ue.a,{className:t.amount,align:"right"},"Amount"))),r.a.createElement(se.a,null,0!==(null===c||void 0===c?void 0:c.getProfits.length)?null===c||void 0===c?void 0:c.getProfits.map((function(e){return r.a.createElement(me.a,{key:e.id},r.a.createElement(ue.a,{className:t.tableCell},e.user.id),r.a.createElement(ue.a,{align:"center",className:t.tableCell},e.user.addressWallet),r.a.createElement(ue.a,{align:"right",className:t.amount},"+",e.amount))})):r.a.createElement(me.a,null,r.a.createElement(ue.a,{colSpan:3,className:t.amount,align:"center"},"No hay data que mostrar"))))),r.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}))},pe=function(){return r.a.createElement("div",null,r.a.createElement("span",null,"404 not found"))},be=function(){return r.a.createElement(u.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/sign-in",component:ae}),r.a.createElement(d.b,{exact:!0,path:"/sign-up/:id?",component:ne}),r.a.createElement(L,null,r.a.createElement(f,{exact:!0,path:"/",component:Z}),r.a.createElement(f,{exact:!0,path:"/partners/:id",component:ce}),r.a.createElement(f,{exact:!0,path:"/profits/:id",component:fe})),r.a.createElement(d.b,{path:"*",component:pe})))},ge=a(9),Ee=a(10),he=a(17),Oe=a(16),je=function(e){Object(he.a)(a,e);var t=Object(Oe.a)(a);function a(e){var n;return Object(ge.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(Ee.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(t)}},{key:"render",value:function(){var e=this.state.hasError,t=this.props,a=t.children,n=t.fallback;return e?n:a}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(n.Component),ke=function(){return r.a.createElement("div",{className:"l-error"},r.a.createElement("img",{src:N.a,alt:"Wineth"}),r.a.createElement("p",null,"Opppsss, ocurrio un error..."),r.a.createElement("a",{href:"/sign-in"},r.a.createElement(B,{message:"Sacame de aqui",onClick:function(){return localStorage.clear()}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(811);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(je,{fallback:r.a.createElement(ke,null)},r.a.createElement(s,null,r.a.createElement(be,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[299,1,2]]]);
//# sourceMappingURL=main.04be8b4a.chunk.js.map