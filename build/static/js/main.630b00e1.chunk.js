(this.webpackJsonpwineth=this.webpackJsonpwineth||[]).push([[0],{299:function(e,t,a){e.exports=a(812)},313:function(e,t){},315:function(e,t){},327:function(e,t){},329:function(e,t){},357:function(e,t){},359:function(e,t){},360:function(e,t){},366:function(e,t){},368:function(e,t){},386:function(e,t){},389:function(e,t){},405:function(e,t){},408:function(e,t){},436:function(e,t){},445:function(e,t){},463:function(e,t){},465:function(e,t){},478:function(e,t){},479:function(e,t){},49:function(e,t,a){e.exports=a.p+"static/media/logo.c1084b5b.png"},538:function(e,t){},549:function(e,t){},552:function(e,t){},604:function(e,t,a){var n={"./bucket_1.png":605,"./bucket_2.png":606,"./bucket_3.png":607,"./bucket_4.png":608,"./bucket_5.png":609};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=604},605:function(e,t,a){e.exports=a.p+"static/media/bucket_1.a3a057d4.png"},606:function(e,t,a){e.exports=a.p+"static/media/bucket_2.0d0a64cd.png"},607:function(e,t,a){e.exports=a.p+"static/media/bucket_3.d598c841.png"},608:function(e,t,a){e.exports=a.p+"static/media/bucket_4.ba0d6663.png"},609:function(e,t,a){e.exports=a.p+"static/media/bucket_5.df236919.png"},811:function(e,t,a){},812:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(291),c=a.n(l),o=a(12),i=Object(n.createContext)(),s=function(e){var t=e.children,a=Object(n.useState)(null),l=Object(o.a)(a,2),c=l[0],s=l[1],u=Object(n.useState)(!0),m=Object(o.a)(u,2),d=m[0],v=m[1];Object(n.useEffect)((function(){var e=localStorage.getItem("@storage");try{e&&s(null),s(JSON.parse(e))}catch(t){console.log(t)}finally{v(!1)}}),[]);var f=Object(n.useCallback)((function(e){localStorage.removeItem("@storage"),localStorage.setItem("@storage",JSON.stringify(e)),s(e)}),[]),p=Object(n.useCallback)((function(e){localStorage.setItem("@storage",JSON.stringify(e)),s(e)}),[]),b=Object(n.useCallback)((function(){localStorage.removeItem("@storage"),s(null)}),[]);return d?r.a.createElement("p",null,"loading...."):r.a.createElement(i.Provider,{value:{user:c,signIn:p,signOut:b,isLoggedIn:!!c,reload:f},children:t})},u=a(32),m=a(25),d=a(296),v=function(){return Object(n.useContext)(i)},f=function(e){var t=e.component,a=Object(d.a)(e,["component"]),n=v().isLoggedIn;return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/sign-in"})}}))},p=a(42),b=a(84),E=a(66),g=function(e){var t=e.message,a=e.icon,n=e.routeName,l=e.dropdown,c=e.onClick;return r.a.createElement(u.b,{onClick:c,to:n,className:"list-tile"},r.a.createElement("div",{className:"list-tile-content"},r.a.createElement("div",null,a,r.a.createElement("span",null,t)),l&&r.a.createElement(p.a,{className:"list-tile-icon icon"})))},h=[{id:1,routeName:"/",message:"Dashboard",icon:r.a.createElement(p.b,{className:"list-tile-icon"})},{id:2,routeName:"/partners",message:"Partners",icon:r.a.createElement(b.a,{className:"list-tile-icon"})},{id:3,routeName:"/profits",message:"Profits",icon:r.a.createElement(p.d,{className:"list-tile-icon"})}],O=function(e){var t=v().user;return r.a.createElement("aside",{className:"sidebar ".concat(e.active?"sidebar-show":"")},r.a.createElement("ul",{className:"sidebar-list"},h.map((function(a){var n="/";return n="/partners"===a.routeName||"/profits"===a.routeName?"".concat(a.routeName,"/").concat((null===t||void 0===t?void 0:t.token)?Object(E.decode)(t.token).id:t.id):a.routeName,r.a.createElement("li",{key:a.id},r.a.createElement(g,{onClick:function(){return e.onSize(!e.active)},message:a.message,routeName:n,icon:a.icon,dropdown:!0}))}))))},k=a(292),j=a(49),N=a.n(j),w=a(52),S=function(){var e=v(),t=e.signOut,a=e.user,l=Object(n.useState)(!1),c=Object(o.a)(l,2),i=c[0],s=c[1];return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{onClick:function(){return s((function(e){return!e}))},className:"dropdown-user"},r.a.createElement("div",null,(null===a||void 0===a?void 0:a.account)?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,null===a||void 0===a?void 0:a.account),r.a.createElement(w.a,{className:"dropdown-icon dropdown-disabled"})):r.a.createElement(w.a,{className:"dropdown-icon"}),r.a.createElement(p.e,{className:"dropdown-icon"}))),i&&r.a.createElement("ul",{className:"dropdown-list"},r.a.createElement("li",{className:"dropdown-item"},r.a.createElement(u.b,{to:"#",onClick:function(){return t()}},"Logout"))))},y=function(e){var t=v().user,a=Object(n.useState)(!1),l=Object(o.a)(a,1)[0];return r.a.createElement("header",{className:"navbar"},r.a.createElement("nav",{className:"nav"},r.a.createElement("div",{className:"nav-left"},r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){return e.onSize(!e.size)}},r.a.createElement(p.c,{className:"nav-menu"})),r.a.createElement("ol",{className:"nav-breadcrumb"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/"},"Dashboard")),r.a.createElement("span",null,"/"))),r.a.createElement("div",{className:"nav-brand"},r.a.createElement(u.b,{to:"/"},r.a.createElement("img",{src:N.a,alt:"Logo wineth"}))),(null===t||void 0===t?void 0:t.isActive)&&r.a.createElement("ul",{className:"nav-referer"},r.a.createElement("li",{className:"nav-link"},"http://localhost:3000/sign-up/",Object(E.decode)(null===t||void 0===t?void 0:t.token).id),r.a.createElement(k.CopyToClipboard,{onCopy:function(){return l(!0)},text:"http://localhost:3000/sign-up/".concat(Object(E.decode)(null===t||void 0===t?void 0:t.token).id)},r.a.createElement("span",{className:"nav-copy"},"Copiar")))),r.a.createElement(S,null)))},C=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",null,"Copyright \xa9 ",(new Date).getFullYear(),", All rights reserved."))},L=function(e){var t=e.children,a=v().isLoggedIn,l=Object(n.useState)(!1),c=Object(o.a)(l,2),i=c[0],s=c[1],u=function(e){return s(e)};return a?r.a.createElement("div",{className:"layout"},r.a.createElement(y,{onSize:u,size:i}),r.a.createElement(O,{active:i,onSize:u}),r.a.createElement("section",{className:"layout-content"},t,r.a.createElement(C,null))):r.a.createElement(m.a,{to:"/sign-in"})},x=a(294),A=function(e){var t=e.logo,a=e.total,n=e.title;return r.a.createElement("div",{className:"card"},t,r.a.createElement("div",null,r.a.createElement("span",null,n),r.a.createElement("span",null,a)))},I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"shimmer-effect"}),r.a.createElement("div",{className:"shimmer-effect"}),r.a.createElement("div",{className:"shimmer-effect"}),r.a.createElement("div",{className:"shimmer-effect"}))},_=a(21),F=a.n(_),P=a(64),T="http://165.232.57.151/api",z=a(85),M=a.n(z),D=function(e){var t=e.url,a=e.body,r=e.method,l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=v(),i=c.user,s=Object(n.useState)(l),u=Object(o.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)(""),p=Object(o.a)(f,2),b=p[0],E=p[1],g=Object(n.useState)({}),h=Object(o.a)(g,2),O=h[0],k=h[1],j=Object(n.useState)(!1),N=Object(o.a)(j,2),w=N[0],S=N[1],y=Object(n.useCallback)(function(){var e=Object(P.a)(F.a.mark((function e(n){var l,c,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(l=new Headers).append("Content-Type","application/json"),l.append("auth-token","".concat(null===i||void 0===i?void 0:i.token)),d(!0),e.next=7,fetch("".concat(T).concat(t),{headers:l,method:r,body:n?JSON.stringify(n):JSON.stringify(a)});case 7:return c=e.sent,e.next=10,c.json();case 10:o=e.sent,k(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),E(e.t0.toString());case 17:return e.prev=17,d(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[t,a,r,i]);return Object(n.useEffect)((function(){(l||w)&&y()}),[y,l,w]),[{isFetching:m,error:b,data:O},y,S]},B=function(e){var t=v().user,a=e.refetch,l=D({url:"/user/profits",method:"GET"},!1),c=Object(o.a)(l,2),i=c[0],s=i.isFetching,u=i.data,m=i.error,d=c[1],f=D({url:"/user/profits/".concat(null===t||void 0===t?void 0:t.id),method:"GET"},!1),p=Object(o.a)(f,2),E=p[0],g=E.isFetching,h=E.data,O=p[1];return Object(n.useEffect)((function(){(null===t||void 0===t?void 0:t.id)?O():d()}),[]),Object(n.useEffect)((function(){a&&d()}),[a]),s||g?r.a.createElement(I,null):m?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{logo:r.a.createElement(w.a,{className:"home-icon"}),title:"Ganancias Ethereum",total:(null===h||void 0===h?void 0:h.profits)?h.profits?h.profits:0:(null===u||void 0===u?void 0:u.profits)?u.profits:0}),r.a.createElement(A,{logo:r.a.createElement(x.a,{className:"home-icon"}),title:"Ganancias en Dolares",total:"$".concat((null===h||void 0===h?void 0:h.usdProfits)?h.usdProfits?h.usdProfits:"0.00":(null===u||void 0===u?void 0:u.usdProfits)?u.usdProfits:"0.00")}),r.a.createElement(A,{logo:r.a.createElement(b.a,{className:"home-icon"}),title:"Total Partners",total:(null===h||void 0===h?void 0:h.partners)?h.partners?h.partners:0:(null===u||void 0===u?void 0:u.partners)?u.partners:0}),r.a.createElement(A,{logo:r.a.createElement(w.b,{className:"home-icon"}),title:"Ultimo Bucket",total:(null===h||void 0===h?void 0:h.lastBucket)?h.lastBucket?h.lastBucket:0:(null===u||void 0===u?void 0:u.lastBucket)?u.lastBucket:0}))},V=function(e){var t=e.message,a=e.onClick,n=e.variant,l=e.disabled;return r.a.createElement("input",{disabled:l,type:"button",value:t,className:"button ".concat(l?"button-disabled":""," ").concat(n?"button-outline":""),onClick:a})},W=function(){return r.a.createElement("div",{className:"loader"})},G=function(e){var t=v().user,n=e.name,l=e.price,c=e.id,o=e.onClick,i=e.isLoading,s=e.bucketId,u=e.active,m=e.expire,d=e.isEnabled;return r.a.createElement("div",{className:"bucket"},r.a.createElement("div",{className:"bucket-img"},r.a.createElement("img",{src:a(604)("./bucket_".concat(c,".png")),alt:"bucket wineth"})),r.a.createElement("div",{className:"bucket-footer"},r.a.createElement("div",{className:"bucket-details"},r.a.createElement("p",null,n),r.a.createElement("span",null,r.a.createElement(w.a,{className:"bucket-icon"}),r.a.createElement("span",{className:"bucket-price"},l))),(null===t||void 0===t?void 0:t.token)?r.a.createElement(r.a.Fragment,null,u&&r.a.createElement("div",{className:"bucket-expire ".concat(m<=5?"bucket-warning":"")},r.a.createElement("span",null,"Expira en ",m," dias")),i&&c===s?r.a.createElement("div",{className:"bucket-loader"},r.a.createElement(W,null)):r.a.createElement(V,{disabled:u||!d,message:"Activar",onClick:o})):null))},J=function(e){var t=e.refetch,a=D({url:"/bucket/getAll/".concat(e.id),method:"GET"}),l=Object(o.a)(a,2),c=l[0],i=c.isFetching,s=c.data,u=c.error,m=l[1],d=D({url:"/matrix/join_red",method:"POST"},!1),v=Object(o.a)(d,2),f=v[0],p=f.isFetching,b=f.data,E=v[1],g=Object(n.useState)(),h=Object(o.a)(g,2),O=h[0],k=h[1];Object(n.useEffect)((function(){(null===b||void 0===b?void 0:b.status)&&e.onModal(!0,O)}),[b,O]),Object(n.useEffect)((function(){t&&m()}),[t,m]);var j=function(){var e=Object(P.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(t),E();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i?r.a.createElement("div",{className:"loader-bucket"},r.a.createElement(W,null)):u?null:r.a.createElement(r.a.Fragment,null,null===s||void 0===s?void 0:s.map((function(e){return r.a.createElement(G,{active:e.status,expire:e.expire,onClick:function(){return j(e.id)},key:e.id,id:e.id,bucketId:O,name:e.name,price:e.price,isLoading:p,isEnabled:e.isEnabled})})))},q=function(e){var t=e.children,a=e.onClosed,n=e.className;return r.a.createElement("div",{className:"overlay ".concat(n||"")},r.a.createElement(b.b,{className:"modal-close",onClick:a}),t)},U=a(45),H=function(e){var t=e.message,a=e.className;return r.a.createElement("div",{className:"error ".concat(a||"")},r.a.createElement(p.f,{className:"error-icon"}),r.a.createElement("span",{className:"error-message"},t))},R=function(e){var t=e.step;return r.a.createElement("div",{className:"content-indicator"},r.a.createElement("div",{className:1===t?"progress-indicator-active":"progress-indicator"}," 1 "),r.a.createElement("span",{style:{backgroundColor:2===t?"#0A51A1":"#1b2e4b"}}),r.a.createElement("div",{className:2===t?"progress-indicator-active":"progress-indicator"}," 2 "),r.a.createElement("span",{style:{backgroundColor:3===t?"#0A51A1":"#1b2e4b"}}),r.a.createElement("div",{className:3===t?"progress-indicator-active":"progress-indicator"}," 3 "))},$=new M.a(M.a.givenProvider),Y=function(e){var t,a,l,c,i,s,u,m,d,f,p,b,E=v(),g=E.user,h=E.reload,O=e.isFetching,k=e.data,j=e.bucketId,S=e.onClose,y=e.refetch,C=Object(n.useState)(!1),L=Object(o.a)(C,2),x=L[0],A=L[1],I=Object(n.useState)(1),_=Object(o.a)(I,2),F=_[0],P=_[1],T=D({url:"/transaction/validate",method:"POST"},!1),z=Object(o.a)(T,2),M=z[0],B=M.isFetching,G=M.data,J=z[1],q=Object(n.useState)({step:1,error:{hasError:!1,message:""},info:{amount:null===k||void 0===k||null===(t=k.AscendingLine)||void 0===t||null===(a=t.nivel1)||void 0===a?void 0:a.amount,wallet:null===k||void 0===k||null===(l=k.AscendingLine)||void 0===l||null===(c=l.nivel1)||void 0===c?void 0:c.address,userId:null===k||void 0===k||null===(i=k.AscendingLine)||void 0===i||null===(s=i.nivel1)||void 0===s?void 0:s.user,wei:null===k||void 0===k||null===(u=k.AscendingLine)||void 0===u||null===(m=u.nivel1)||void 0===m?void 0:m.wei,status:null===k||void 0===k||null===(d=k.AscendingLine)||void 0===d||null===(f=d.nivel1)||void 0===f?void 0:f.status},message:""}),Y=Object(o.a)(q,2),K=Y[0],Q=Y[1];Object(n.useEffect)((function(){console.log("change data",null===k||void 0===k?void 0:k.AscendingLine),console.log("bucketId",j)}),[k,j]),Object(n.useEffect)((function(){console.log("compare variable close => ",3===F),console.log("!isLoading => ",!B),console.log("compare close && !isLoading => ",3===F&&!B),console.log("close, !isLoading => ",{close:F,isLoading:B}),3!==F||B||(console.log("confirm comparation =>","refeching..."),h({token:null===g||void 0===g?void 0:g.token,isActive:!0,account:g.account}),y(!0),S((function(e){return!e})),P(1))}),[F]),Object(n.useEffect)((function(){400===(null===G||void 0===G?void 0:G.status)&&Q((function(e){return Object(U.a)(Object(U.a)({},e),{},{error:{hasError:!0,message:null===G||void 0===G?void 0:G.message}})})),200===(null===G||void 0===G?void 0:G.status)&&(null===G||void 0===G?void 0:G.validate)&&Q((function(e){var t,a,n,r,l,c,o,i,s,u,m,d,v,f,p,b,E,g,h,O;return e.step>=3?(P(3),console.log("step >= 3","setClose(3)"),{step:1,error:{hasError:!1,message:""},info:{amount:null===k||void 0===k||null===(m=k.AscendingLine)||void 0===m||null===(d=m.nivel1)||void 0===d?void 0:d.amount,wallet:null===k||void 0===k||null===(v=k.AscendingLine)||void 0===v||null===(f=v.nivel1)||void 0===f?void 0:f.address,userId:null===k||void 0===k||null===(p=k.AscendingLine)||void 0===p||null===(b=p.nivel1)||void 0===b?void 0:b.user,wei:null===k||void 0===k||null===(E=k.AscendingLine)||void 0===E||null===(g=E.nivel1)||void 0===g?void 0:g.wei,status:null===k||void 0===k||null===(h=k.AscendingLine)||void 0===h||null===(O=h.nivel1)||void 0===O?void 0:O.status},message:""}):Object(U.a)(Object(U.a)({},e),{},{step:e.step+1,info:{amount:null===k||void 0===k||null===(t=k.AscendingLine)||void 0===t||null===(a=t["nivel".concat(e.step+1)])||void 0===a?void 0:a.amount,wallet:null===k||void 0===k||null===(n=k.AscendingLine)||void 0===n||null===(r=n["nivel".concat(e.step+1)])||void 0===r?void 0:r.address,userId:null===k||void 0===k||null===(l=k.AscendingLine)||void 0===l||null===(c=l["nivel".concat(e.step+1)])||void 0===c?void 0:c.user,wei:null===k||void 0===k||null===(o=k.AscendingLine)||void 0===o||null===(i=o["nivel".concat(e.step+1)])||void 0===i?void 0:i.wei,status:null===k||void 0===k||null===(s=k.AscendingLine)||void 0===s||null===(u=s["nivel".concat(e.step+1)])||void 0===u?void 0:u.status}})}))}),[G]);return O||B||x?r.a.createElement("div",{className:"progress"},r.a.createElement(W,null),r.a.createElement("p",{className:"progress-message"},K.message)):r.a.createElement("div",{style:{height:K.error.hasError?400:300},className:"progress"},r.a.createElement("img",{className:"progress-img",src:N.a,alt:"wineth"}),r.a.createElement(R,{step:K.step}),r.a.createElement("section",{className:"progress-section"},r.a.createElement("div",{className:"progress-details"},r.a.createElement("span",null,"Monto: "),r.a.createElement("div",null,r.a.createElement(w.a,{className:"progress-icon"}),r.a.createElement("span",null,null===K||void 0===K||null===(p=K.info)||void 0===p?void 0:p.amount))),r.a.createElement("input",{disabled:!0,type:"text",className:"input progress-input",defaultValue:null===K||void 0===K||null===(b=K.info)||void 0===b?void 0:b.wallet}),K.error.hasError&&r.a.createElement(H,{message:K.error.message}),r.a.createElement(V,{message:"Siguiente",onClick:function(){A(!0),Q((function(e){return Object(U.a)(Object(U.a)({},e),{},{message:"Por favor espere, esperando confirmacion."})})),console.log("".concat(K.step," transaccion => "),{step:K.step,from:g.account,to:K.info.wallet,value:$.utils.toWei("".concat(K.info.amount),"ether"),amount:K.info.amount}),console.log("valores a enviar => ",{nivel1:null===k||void 0===k?void 0:k.AscendingLine.nivel1,nivel2:null===k||void 0===k?void 0:k.AscendingLine.nivel2,nivel3:null===k||void 0===k?void 0:k.AscendingLine.nivel3}),$.eth.sendTransaction({from:g.account,to:K.info.wallet,value:$.utils.toWei("".concat(K.info.amount),"ether")}).then((function(e){J({hash:e.transactionHash,amount:K.info.amount,walletReceived:K.info.wallet,bucketId:j,receiveId:K.info.userId}),Q((function(e){return Object(U.a)(Object(U.a)({},e),{},{message:"Verificando transaccion..."})}))})).catch((function(e){return Q((function(t){return console.log(e),Object(U.a)(Object(U.a)({},t),{},{error:{hasError:!0,message:"Error when proceeding with payment"}})}))})).finally((function(){return A(!1)}))}})))},K=a(295),Q=a.n(K),X=function(e){var t=e.params;return r.a.createElement("div",{className:"particle"},r.a.createElement(Q.a,{className:"particles",params:t}))},Z=function(){var e=v().user,t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(),f=Object(o.a)(d,2),p=f[0],b=f[1],g=D({method:"GET",url:"/matrix/sponsors/".concat(p)},!1),h=Object(o.a)(g,2),O=h[0],k=O.data,j=O.isFetching,N=h[1];Object(n.useEffect)((function(){p&&N()}),[p]);var w=function(e){return m(e)},S=Object(n.useMemo)((function(){return r.a.createElement(q,{onClosed:function(){return c((function(e){return!e}))},className:l?"active":""},r.a.createElement(Y,{refetch:w,onClose:c,isFetching:j,data:k,bucketId:p}))}),[l,j,k,p]);return r.a.createElement("div",null,r.a.createElement("div",{className:"home-statistics"},r.a.createElement(B,{refetch:u})),r.a.createElement("main",{className:"l-main"},r.a.createElement(J,{refetch:u,id:(null===e||void 0===e?void 0:e.token)?Object(E.decode)(e.token).id:null===e||void 0===e?void 0:e.id,onModal:function(e,t){c(e),b(t)}})),r.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}),(null===k||void 0===k?void 0:k.AscendingLine)&&S)},ee=a(117),te=a.n(ee),ae=function(){var e=v(),t=e.signIn,a=e.isLoggedIn,l=Object(n.useState)(""),c=Object(o.a)(l,2),i=c[0],s=c[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),f=d[0],p=d[1],b=D({url:"/auth/signin",method:"POST"},!1),E=Object(o.a)(b,2),g=E[0],h=g.error,O=g.isFetching,k=g.data,j=E[1],w=D({url:"/auth/withid/signin",method:"POST"},!1),S=Object(o.a)(w,2),y=S[0],C=y.isFetching,L=y.data,x=S[1],A=Object(n.useState)({hasError:!1,message:""}),I=Object(o.a)(A,2),_=I[0],T=I[1];Object(n.useEffect)((function(){200===(null===L||void 0===L?void 0:L.status)&&t({id:i}),400===(null===L||void 0===L?void 0:L.status)&&T({hasError:!0,message:"System Id is not valid."})}),[L]),Object(n.useEffect)((function(){(function(){var e=Object(P.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te()();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",T({hasError:!0,message:"Please install MetaMask!"}));case 5:window.ethereum.on("chainChanged",(function(e){return window.location.reload()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){h&&T({hasError:!0,message:h.toString()}),200===k.status&&k.accessToken&&t({token:k.accessToken,account:f,isActive:k.isActiveBucket})}),[h,k]);return 400===(null===k||void 0===k?void 0:k.status)?r.a.createElement(m.a,{to:"/sign-up"}):a?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",{className:"l-form"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-img"},r.a.createElement("img",{src:N.a,alt:"Logo Wineth"})),r.a.createElement("input",{className:"input bottom",placeholder:"System ID",onChange:function(e){return s(e.target.value)}}),_.hasError&&r.a.createElement(H,{className:"bottom",message:_.message}),O||C?r.a.createElement(W,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{variant:!0,message:"Login con Metamask",onClick:function(){window.ethereum.request({method:"eth_requestAccounts"}).then((function(e){0===e.length&&T({hasError:!0,message:"Please connect to Metamask."}),null!==e[0]&&(p(e[0]),j({wallet:e[0]}))}))}}),r.a.createElement(V,{onClick:function(){if(!i)return T({hasError:!0,message:"Enter the system id."});x({id:i})},message:"Ingresar"}))),r.a.createElement(X,{params:{particles:{number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}}))},ne=function(){var e=v(),t=e.signIn,a=e.isLoggedIn,l=Object(m.g)().id,c=Object(n.useState)(""),i=Object(o.a)(c,2),s=i[0],u=i[1],d=D({url:"/auth/signup",method:"POST"},!1),f=Object(o.a)(d,2),p=f[0],b=p.error,E=p.isFetching,g=p.data,h=f[1],O=Object(n.useState)({hasError:!1,message:""}),k=Object(o.a)(O,2),j=k[0],w=k[1];Object(n.useEffect)((function(){(function(){var e=Object(P.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te()();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",w({hasError:!0,message:"Please install MetaMask!"}));case 5:window.ethereum.on("chainChanged",(function(e){return window.location.reload()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){b&&w({hasError:!0,message:b.toString()}),400===g.status&&w({hasError:!0,message:g.message}),200===g.status&&g.accessToken&&t({token:g.accessToken,account:s})}),[b,g]);return a?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",{className:"l-form"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-img"},r.a.createElement("img",{src:N.a,alt:"Logo Wineth"})),r.a.createElement("input",{className:"input bottom",placeholder:"System ID: ".concat(l||"1"),onChange:console.log,disabled:!0}),j.hasError&&r.a.createElement(H,{className:"bottom",message:j.message}),r.a.createElement("span",{className:"form-message"},"Inicia sesion con metamask para continuar."),E?r.a.createElement(W,null):r.a.createElement(V,{variant:!0,message:"Login con Metamask",onClick:function(){window.ethereum.request({method:"eth_requestAccounts"}).then((function(e){0===e.length&&w({hasError:!0,message:"Please connect to Metamask."}),null!==e[0]&&(u(e[0]),h({wallet:e[0],sponsorId:l||1}))}))}})),r.a.createElement(X,null))},re=a(164),le=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!==t.current&&new re.a(t.current,{template:"olivia",enableSearch:!1,nodeMouseClick:re.a.action.none,nodes:e.nodes,nodeBinding:{field_0:"id",field_1:"wallet"},tags:{subLevels0:{subLevels:0},subLevels1:{subLevels:1},subLevels2:{subLevels:2},subLevels3:{subLevels:3}}})}),[e.nodes]),r.a.createElement("div",{id:"tree",ref:t})},ce=function(){var e=Object(m.g)().id,t=D({method:"GET",url:"/matrix/tree/".concat(e)}),a=Object(o.a)(t,1)[0],n=a.isFetching,l=a.data,c=a.error;if(n)return r.a.createElement("div",null,"Fetching...");if(c)return null;return r.a.createElement("div",null,r.a.createElement(le,{nodes:400===(null===l||void 0===l?void 0:l.status)?[]:function(){var e=1,t=[{id:e}];return l.treeView.level1.map((function(a){++e,t.push({id:e,pid:1,wallet:a.sponsors.referers.referer.wallet})})),l.treeView.level2.slice(0,2).map((function(a){++e,t.push({id:e,pid:2,wallet:a.sponsors.referers.referer.wallet})})),l.treeView.level2.slice(2,4).map((function(a){++e,t.push({id:e,pid:3,wallet:a.sponsors.referers.referer.wallet})})),l.treeView.level3.slice(0,2).map((function(a){++e,t.push({id:e,pid:4,wallet:a.sponsors.referers.referer.wallet})})),l.treeView.level3.slice(2,4).map((function(a){++e,t.push({id:e,pid:5,wallet:a.sponsors.referers.referer.wallet})})),l.treeView.level3.slice(4,6).map((function(a){++e,t.push({id:e,pid:6,wallet:a.sponsors.referers.referer.wallet})})),l.treeView.level3.slice(6,8).map((function(a){++e,t.push({id:e,pid:7,wallet:a.sponsors.referers.referer.wallet})})),t}()}),r.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}))},oe=a(831),ie=a(833),se=a(836),ue=a(837),me=a(834),de=a(835),ve=Object(oe.a)({table:{width:600,backgroundColor:"#1A1C2D"},tableCell:{color:"#888ea8"},amount:{color:"#e0e6ed"}}),fe=function(e){var t=ve(),a=Object(m.g)().id,n=D({method:"GET",url:"/user/profits/getdata/".concat(a)}),l=Object(o.a)(n,1)[0],c=l.data,i=l.isFetching;return l.error?null:i?r.a.createElement(W,null):r.a.createElement("div",{className:"l-profit"},r.a.createElement("div",null,r.a.createElement(ie.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(me.a,null,r.a.createElement(de.a,null,r.a.createElement(ue.a,{className:t.tableCell,align:"center"},"ID"),r.a.createElement(ue.a,{className:t.tableCell,align:"center"},"Wallet"),r.a.createElement(ue.a,{className:t.amount,align:"right"},"Amount"))),r.a.createElement(se.a,null,null===c||void 0===c?void 0:c.getProfits.map((function(e){return r.a.createElement(de.a,{key:e.id},r.a.createElement(ue.a,{className:t.tableCell},e.user.id),r.a.createElement(ue.a,{align:"center",className:t.tableCell},e.user.addressWallet),r.a.createElement(ue.a,{align:"right",className:t.amount},"+",e.amount))}))))),r.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}))},pe=function(){return r.a.createElement("div",null,r.a.createElement("span",null,"404 not found"))},be=function(){return r.a.createElement(u.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/sign-in",component:ae}),r.a.createElement(m.b,{exact:!0,path:"/sign-up/:id?",component:ne}),r.a.createElement(L,null,r.a.createElement(f,{exact:!0,path:"/",component:Z}),r.a.createElement(f,{exact:!0,path:"/partners/:id",component:ce}),r.a.createElement(f,{exact:!0,path:"/profits/:id",component:fe})),r.a.createElement(m.b,{path:"*",component:pe})))},Ee=a(9),ge=a(10),he=a(17),Oe=a(16),ke=function(e){Object(he.a)(a,e);var t=Object(Oe.a)(a);function a(e){var n;return Object(Ee.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(ge.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(t)}},{key:"render",value:function(){var e=this.state.hasError,t=this.props,a=t.children,n=t.fallback;return e?n:a}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(n.Component),je=function(){return r.a.createElement("div",{className:"l-error"},r.a.createElement("img",{src:N.a,alt:"Wineth"}),r.a.createElement("p",null,"Opppsss, ocurrio un error..."),r.a.createElement("a",{href:"/sign-in"},r.a.createElement(V,{message:"Sacame de aqui",onClick:function(){return localStorage.clear()}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(811);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ke,{fallback:r.a.createElement(je,null)},r.a.createElement(s,null,r.a.createElement(be,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[299,1,2]]]);
//# sourceMappingURL=main.630b00e1.chunk.js.map