(this.webpackJsonpwineth=this.webpackJsonpwineth||[]).push([[0],{302:function(e,t,a){e.exports=a(815)},316:function(e,t){},318:function(e,t){},330:function(e,t){},332:function(e,t){},360:function(e,t){},362:function(e,t){},363:function(e,t){},369:function(e,t){},371:function(e,t){},389:function(e,t){},392:function(e,t){},408:function(e,t){},411:function(e,t){},439:function(e,t){},448:function(e,t){},466:function(e,t){},468:function(e,t){},481:function(e,t){},482:function(e,t){},50:function(e,t,a){e.exports=a.p+"static/media/logo.c1084b5b.png"},541:function(e,t){},552:function(e,t){},555:function(e,t){},607:function(e,t,a){var n={"./bucket_1.png":608,"./bucket_2.png":609,"./bucket_3.png":610,"./bucket_4.png":611,"./bucket_5.png":612};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=607},608:function(e,t,a){e.exports=a.p+"static/media/bucket_1.a3a057d4.png"},609:function(e,t,a){e.exports=a.p+"static/media/bucket_2.0d0a64cd.png"},610:function(e,t,a){e.exports=a.p+"static/media/bucket_3.d598c841.png"},611:function(e,t,a){e.exports=a.p+"static/media/bucket_4.ba0d6663.png"},612:function(e,t,a){e.exports=a.p+"static/media/bucket_5.df236919.png"},814:function(e,t,a){},815:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(290),c=a.n(l),i=a(11),o=Object(n.createContext)(),s=function(e){var t=e.children,a=Object(n.useState)(null),l=Object(i.a)(a,2),c=l[0],s=l[1],u=Object(n.useState)(!0),m=Object(i.a)(u,2),d=m[0],v=m[1];Object(n.useEffect)((function(){var e=localStorage.getItem("@storage");try{e&&s(null),s(JSON.parse(e))}catch(t){console.log(t)}finally{v(!1)}}),[]);var f=Object(n.useCallback)((function(e){localStorage.removeItem("@storage"),localStorage.setItem("@storage",JSON.stringify(e)),s(e)}),[]),p=Object(n.useCallback)((function(e){localStorage.setItem("@storage",JSON.stringify(e)),s(e)}),[]),E=Object(n.useCallback)((function(){localStorage.removeItem("@storage"),s(null)}),[]);return d?r.a.createElement("p",null,"loading...."):r.a.createElement(o.Provider,{value:{user:c,signIn:p,signOut:E,isLoggedIn:!!c,reload:f},children:t})},u=a(33),m=a(26),d=a(299),v=function(){return Object(n.useContext)(o)},f=function(e){var t=e.component,a=Object(d.a)(e,["component"]),n=v().isLoggedIn;return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/sign-in"})}}))},p=a(43),E=a(86),b=a(67),g=function(e){var t=e.message,a=e.icon,n=e.routeName,l=e.dropdown,c=e.onClick;return r.a.createElement(u.b,{onClick:c,to:n,className:"list-tile"},r.a.createElement("div",{className:"list-tile-content"},r.a.createElement("div",null,a,r.a.createElement("span",null,t)),l&&r.a.createElement(p.a,{className:"list-tile-icon icon"})))},h=[{id:1,routeName:"/",message:"Dashboard",icon:r.a.createElement(p.b,{className:"list-tile-icon"})},{id:2,routeName:"/partners",message:"Partners",icon:r.a.createElement(E.a,{className:"list-tile-icon"})},{id:3,routeName:"/profits",message:"Profits",icon:r.a.createElement(p.d,{className:"list-tile-icon"})}],O=function(e){var t=v().user;return r.a.createElement("aside",{className:"sidebar ".concat(e.active?"sidebar-show":"")},r.a.createElement("ul",{className:"sidebar-list"},h.map((function(a){var n="/";return n="/partners"===a.routeName||"/profits"===a.routeName?"".concat(a.routeName,"/").concat((null===t||void 0===t?void 0:t.token)?Object(b.decode)(t.token).id:t.id):a.routeName,r.a.createElement("li",{key:a.id},r.a.createElement(g,{onClick:function(){return e.onSize(!e.active)},message:a.message,routeName:n,icon:a.icon,dropdown:!0}))}))))},k=a(291),j=a(50),N=a.n(j),w=a(53),S=function(){var e=v(),t=e.signOut,a=e.user,l=Object(n.useState)(!1),c=Object(i.a)(l,2),o=c[0],s=c[1];return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{onClick:function(){return s((function(e){return!e}))},className:"dropdown-user"},r.a.createElement("div",null,(null===a||void 0===a?void 0:a.account)?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,null===a||void 0===a?void 0:a.account),r.a.createElement(w.a,{className:"dropdown-icon dropdown-disabled"})):r.a.createElement(w.a,{className:"dropdown-icon"}),r.a.createElement(p.e,{className:"dropdown-icon"}))),o&&r.a.createElement("ul",{className:"dropdown-list"},r.a.createElement("li",{className:"dropdown-item"},r.a.createElement(u.b,{to:"#",onClick:function(){return t()}},"Logout"))))},y=function(e){var t=v().user,a=Object(n.useState)(!1),l=Object(i.a)(a,1)[0];return r.a.createElement("header",{className:"navbar"},r.a.createElement("nav",{className:"nav"},r.a.createElement("div",{className:"nav-left"},r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){return e.onSize(!e.size)}},r.a.createElement(p.c,{className:"nav-menu"})),r.a.createElement("ol",{className:"nav-breadcrumb"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/"},"Dashboard")),r.a.createElement("span",null,"/"))),r.a.createElement("div",{className:"nav-brand"},r.a.createElement(u.b,{to:"/"},r.a.createElement("img",{src:N.a,alt:"Logo wineth"}))),(null===t||void 0===t?void 0:t.isActive)&&r.a.createElement("ul",{className:"nav-referer"},r.a.createElement("li",{className:"nav-link"},"http://localhost:3000/sign-up/",Object(b.decode)(null===t||void 0===t?void 0:t.token).id),r.a.createElement(k.CopyToClipboard,{onCopy:function(){return l(!0)},text:"http://localhost:3000/sign-up/".concat(Object(b.decode)(null===t||void 0===t?void 0:t.token).id)},r.a.createElement("span",{className:"nav-copy"},"Copiar")))),r.a.createElement(S,null)))},C=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",null,"Copyright \xa9 ",(new Date).getFullYear(),", All rights reserved."))},I=function(e){var t=e.children,a=v().isLoggedIn,l=Object(n.useState)(!1),c=Object(i.a)(l,2),o=c[0],s=c[1],u=function(e){return s(e)};return a?r.a.createElement("div",{className:"layout"},r.a.createElement(y,{onSize:u,size:o}),r.a.createElement(O,{active:o,onSize:u}),r.a.createElement("section",{className:"layout-content"},t,r.a.createElement(C,null))):r.a.createElement(m.a,{to:"/sign-in"})},L=a(293),x=function(e){var t=e.logo,a=e.total,n=e.title;return r.a.createElement("div",{className:"card"},t,r.a.createElement("div",null,r.a.createElement("span",null,n),r.a.createElement("span",null,a)))},A=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"shimmer-effect"}),r.a.createElement("div",{className:"shimmer-effect"}),r.a.createElement("div",{className:"shimmer-effect"}),r.a.createElement("div",{className:"shimmer-effect"}))},P=a(22),_=a.n(P),F=a(65),T="https://wineth.live/api",z=a(40),M=a.n(z),B=function(e){var t=e.url,a=e.body,r=e.method,l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=v(),o=c.user,s=Object(n.useState)(l),u=Object(i.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)(""),p=Object(i.a)(f,2),E=p[0],b=p[1],g=Object(n.useState)({}),h=Object(i.a)(g,2),O=h[0],k=h[1],j=Object(n.useState)(!1),N=Object(i.a)(j,2),w=N[0],S=N[1],y=Object(n.useCallback)(function(){var e=Object(F.a)(_.a.mark((function e(n){var l,c,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(l=new Headers).append("Accept","application/json"),l.append("Content-Type","application/json"),(null===o||void 0===o?void 0:o.token)&&l.append("Authorization","".concat(null===o||void 0===o?void 0:o.token)),d(!0),e.next=8,fetch("".concat(T).concat(t),{headers:l,method:r,body:n?JSON.stringify(n):JSON.stringify(a)});case 8:return c=e.sent,e.next=11,c.json();case 11:i=e.sent,k(i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),b(e.t0.toString());case 18:return e.prev=18,d(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),[t,a,r,o]);return Object(n.useEffect)((function(){(l||w)&&y()}),[y,l,w]),[{isFetching:m,error:E,data:O},y,S]},D=function(e){var t=v().user,a=e.refetch,l=B({url:"/user/profits",method:"GET"},!1),c=Object(i.a)(l,2),o=c[0],s=o.isFetching,u=o.data,m=o.error,d=c[1],f=B({url:"/user/profits/".concat(null===t||void 0===t?void 0:t.id),method:"GET"},!1),p=Object(i.a)(f,2),b=p[0],g=b.isFetching,h=b.data,O=p[1];return Object(n.useEffect)((function(){(null===t||void 0===t?void 0:t.id)?O():d()}),[]),Object(n.useEffect)((function(){a&&d()}),[a]),s||g?r.a.createElement(A,null):m?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{logo:r.a.createElement(w.a,{className:"home-icon"}),title:"Ganancias Ethereum",total:(null===h||void 0===h?void 0:h.profits)?h.profits?h.profits:0:(null===u||void 0===u?void 0:u.profits)?u.profits:0}),r.a.createElement(x,{logo:r.a.createElement(L.a,{className:"home-icon"}),title:"Ganancias en Dolares",total:"$".concat((null===h||void 0===h?void 0:h.usdProfits)?h.usdProfits?h.usdProfits:"0.00":(null===u||void 0===u?void 0:u.usdProfits)?u.usdProfits:"0.00")}),r.a.createElement(x,{logo:r.a.createElement(E.a,{className:"home-icon"}),title:"Total Partners",total:(null===h||void 0===h?void 0:h.partners)?h.partners?h.partners:0:(null===u||void 0===u?void 0:u.partners)?u.partners:0}),r.a.createElement(x,{logo:r.a.createElement(w.b,{className:"home-icon"}),title:"Ultimo Bucket",total:(null===h||void 0===h?void 0:h.lastBucket)?h.lastBucket?h.lastBucket:0:(null===u||void 0===u?void 0:u.lastBucket)?u.lastBucket:0}))},W=function(e){var t=e.message,a=e.onClick,n=e.variant,l=e.disabled;return r.a.createElement("input",{disabled:l,type:"button",value:t,className:"button ".concat(l?"button-disabled":""," ").concat(n?"button-outline":""),onClick:a})},V=function(){return r.a.createElement("div",{className:"loader"})},G=function(e){var t=v().user,n=e.name,l=e.price,c=e.id,i=e.onClick,o=e.isLoading,s=e.bucketId,u=e.active,m=e.expire,d=e.isEnabled;return r.a.createElement("div",{className:"bucket"},r.a.createElement("div",{className:"bucket-img"},r.a.createElement("img",{src:a(607)("./bucket_".concat(c,".png")),alt:"bucket wineth"})),r.a.createElement("div",{className:"bucket-footer"},r.a.createElement("div",{className:"bucket-details"},r.a.createElement("p",null,n),r.a.createElement("span",null,r.a.createElement(w.a,{className:"bucket-icon"}),r.a.createElement("span",{className:"bucket-price"},l))),(null===t||void 0===t?void 0:t.token)?r.a.createElement(r.a.Fragment,null,u&&r.a.createElement("div",{className:"bucket-expire ".concat(m<=5?"bucket-warning":"")},r.a.createElement("span",null,"Expira en ",m," dias")),o&&c===s?r.a.createElement("div",{className:"bucket-loader"},r.a.createElement(V,null)):r.a.createElement(W,{disabled:u||!d,message:"Activar",onClick:i})):null))},J=function(e){var t=e.refetch,a=B({url:"/bucket/getAll/".concat(e.id),method:"GET"}),l=Object(i.a)(a,2),c=l[0],o=c.isFetching,s=c.data,u=c.error,m=l[1],d=B({url:"/matrix/join_red",method:"POST"},!1),v=Object(i.a)(d,2),f=v[0],p=f.isFetching,E=f.data,b=v[1],g=Object(n.useState)(),h=Object(i.a)(g,2),O=h[0],k=h[1];Object(n.useEffect)((function(){(null===E||void 0===E?void 0:E.status)&&e.onModal(!0,O)}),[E,O]),Object(n.useEffect)((function(){t&&m()}),[t]);var j=function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(t),b();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement("div",{className:"loader-bucket"},r.a.createElement(V,null)):u?null:r.a.createElement(r.a.Fragment,null,null===s||void 0===s?void 0:s.map((function(e){return r.a.createElement(G,{active:e.status,expire:e.expire,onClick:function(){return j(e.id)},key:e.id,id:e.id,bucketId:O,name:e.name,price:e.price,isLoading:p,isEnabled:e.isEnabled})})))},U=function(e){var t=e.children,a=e.onClosed,n=e.className;return r.a.createElement("div",{className:"overlay ".concat(n||"")},r.a.createElement(E.b,{className:"modal-close",onClick:a}),t)},R=a(46),q=function(e){var t=e.message,a=e.className;return r.a.createElement("div",{className:"error ".concat(a||"")},r.a.createElement(p.f,{className:"error-icon"}),r.a.createElement("span",{className:"error-message"},t))},H=function(e){var t=e.step;return r.a.createElement("div",{className:"content-indicator"},r.a.createElement("div",{className:1===t?"progress-indicator-active":"progress-indicator"}," 1 "),r.a.createElement("span",{style:{backgroundColor:2===t?"#0A51A1":"#1b2e4b"}}),r.a.createElement("div",{className:2===t?"progress-indicator-active":"progress-indicator"}," 2 "),r.a.createElement("span",{style:{backgroundColor:3===t?"#0A51A1":"#1b2e4b"}}),r.a.createElement("div",{className:3===t?"progress-indicator-active":"progress-indicator"}," 3 "))},$=new M.a(M.a.givenProvider),Y=function(e){var t,a,l,c,o,s,u,m,d,f,p,E,b=v(),g=b.user,h=b.reload,O=e.isFetching,k=e.data,j=e.bucketId,S=e.onClose,y=e.refetch,C=Object(n.useState)(!1),I=Object(i.a)(C,2),L=I[0],x=I[1],A=Object(n.useState)(1),P=Object(i.a)(A,2),_=P[0],F=P[1],T=B({url:"/transaction/validate",method:"POST"},!1),z=Object(i.a)(T,2),M=z[0],D=M.isFetching,G=M.data,J=z[1],U=Object(n.useState)({step:1,error:{hasError:!1,message:""},info:{amount:null===k||void 0===k||null===(t=k.AscendingLine)||void 0===t||null===(a=t.nivel1)||void 0===a?void 0:a.amount,wallet:null===k||void 0===k||null===(l=k.AscendingLine)||void 0===l||null===(c=l.nivel1)||void 0===c?void 0:c.address,userId:null===k||void 0===k||null===(o=k.AscendingLine)||void 0===o||null===(s=o.nivel1)||void 0===s?void 0:s.user,wei:null===k||void 0===k||null===(u=k.AscendingLine)||void 0===u||null===(m=u.nivel1)||void 0===m?void 0:m.wei,status:null===k||void 0===k||null===(d=k.AscendingLine)||void 0===d||null===(f=d.nivel1)||void 0===f?void 0:f.status},message:""}),Y=Object(i.a)(U,2),K=Y[0],Q=Y[1];Object(n.useEffect)((function(){3!==_||D||(h({token:null===g||void 0===g?void 0:g.token,isActive:!0,account:g.account}),y(!0),S((function(e){return!e})),F(1))}),[_]),Object(n.useEffect)((function(){400===(null===G||void 0===G?void 0:G.status)&&Q((function(e){return Object(R.a)(Object(R.a)({},e),{},{error:{hasError:!0,message:null===G||void 0===G?void 0:G.message}})})),200===(null===G||void 0===G?void 0:G.status)&&(null===G||void 0===G?void 0:G.validate)&&Q((function(e){var t,a,n,r,l,c,i,o,s,u,m,d,v,f,p,E,b,g,h,O;return e.step>=3?(F(3),{step:1,error:{hasError:!1,message:""},info:{amount:null===k||void 0===k||null===(m=k.AscendingLine)||void 0===m||null===(d=m.nivel1)||void 0===d?void 0:d.amount,wallet:null===k||void 0===k||null===(v=k.AscendingLine)||void 0===v||null===(f=v.nivel1)||void 0===f?void 0:f.address,userId:null===k||void 0===k||null===(p=k.AscendingLine)||void 0===p||null===(E=p.nivel1)||void 0===E?void 0:E.user,wei:null===k||void 0===k||null===(b=k.AscendingLine)||void 0===b||null===(g=b.nivel1)||void 0===g?void 0:g.wei,status:null===k||void 0===k||null===(h=k.AscendingLine)||void 0===h||null===(O=h.nivel1)||void 0===O?void 0:O.status},message:""}):Object(R.a)(Object(R.a)({},e),{},{step:e.step+1,info:{amount:null===k||void 0===k||null===(t=k.AscendingLine)||void 0===t||null===(a=t["nivel".concat(e.step+1)])||void 0===a?void 0:a.amount,wallet:null===k||void 0===k||null===(n=k.AscendingLine)||void 0===n||null===(r=n["nivel".concat(e.step+1)])||void 0===r?void 0:r.address,userId:null===k||void 0===k||null===(l=k.AscendingLine)||void 0===l||null===(c=l["nivel".concat(e.step+1)])||void 0===c?void 0:c.user,wei:null===k||void 0===k||null===(i=k.AscendingLine)||void 0===i||null===(o=i["nivel".concat(e.step+1)])||void 0===o?void 0:o.wei,status:null===k||void 0===k||null===(s=k.AscendingLine)||void 0===s||null===(u=s["nivel".concat(e.step+1)])||void 0===u?void 0:u.status}})}))}),[G]);return O||D||L?r.a.createElement("div",{className:"progress"},r.a.createElement(V,null),r.a.createElement("p",{className:"progress-message"},K.message)):r.a.createElement("div",{style:{height:K.error.hasError?400:300},className:"progress"},r.a.createElement("img",{className:"progress-img",src:N.a,alt:"wineth"}),r.a.createElement(H,{step:K.step}),r.a.createElement("section",{className:"progress-section"},r.a.createElement("div",{className:"progress-details"},r.a.createElement("span",null,"Monto: "),r.a.createElement("div",null,r.a.createElement(w.a,{className:"progress-icon"}),r.a.createElement("span",null,null===K||void 0===K||null===(p=K.info)||void 0===p?void 0:p.amount))),r.a.createElement("input",{disabled:!0,type:"text",className:"input progress-input",defaultValue:null===K||void 0===K||null===(E=K.info)||void 0===E?void 0:E.wallet}),K.error.hasError&&r.a.createElement(q,{message:K.error.message}),r.a.createElement(W,{message:"Siguiente",onClick:function(){x(!0),Q((function(e){return Object(R.a)(Object(R.a)({},e),{},{message:"Por favor espere, esperando confirmacion."})})),$.eth.sendTransaction({from:g.account,to:K.info.wallet,value:$.utils.toWei("".concat(K.info.amount),"ether")}).then((function(e){J({hash:e.transactionHash,amount:K.info.amount,walletReceived:K.info.wallet,bucketId:j,receiveId:K.info.userId}),Q((function(e){return Object(R.a)(Object(R.a)({},e),{},{message:"Verificando transaccion..."})}))})).catch((function(e){return Q((function(e){return Object(R.a)(Object(R.a)({},e),{},{error:{hasError:!0,message:"Error when proceeding with payment"}})}))})).finally((function(){return x(!1)}))}})))},K=a(294),Q=a.n(K),X=function(e){var t=e.params;return r.a.createElement("div",{className:"particle"},r.a.createElement(Q.a,{className:"particles",params:t}))},Z=function(){var e=v().user,t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(),f=Object(i.a)(d,2),p=f[0],E=f[1],g=B({method:"GET",url:"/matrix/sponsors/".concat(p)},!1),h=Object(i.a)(g,2),O=h[0],k=O.data,j=O.isFetching,N=(O.error,h[1]);Object(n.useEffect)((function(){p&&N()}),[p]);var w=function(e){return m(e)},S=Object(n.useMemo)((function(){return r.a.createElement(U,{onClosed:function(){return c((function(e){return!e}))},className:l?"active":""},r.a.createElement(Y,{refetch:w,onClose:c,isFetching:j,data:k,bucketId:p}))}),[l,j,k,p]);return r.a.createElement("div",null,r.a.createElement("div",{className:"home-statistics"},r.a.createElement(D,{refetch:u})),r.a.createElement("main",{className:"l-main"},r.a.createElement(J,{refetch:u,id:(null===e||void 0===e?void 0:e.token)?Object(b.decode)(e.token).id:null===e||void 0===e?void 0:e.id,onModal:function(e,t){c(e),E(t)}})),r.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}),(null===k||void 0===k?void 0:k.AscendingLine)&&S)},ee=a(117),te=a.n(ee),ae=a(295),ne=function(e){var t=e.title,a=e.description;return r.a.createElement(ae.a,null,r.a.createElement("meta",{charset:"utf-8"}),r.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),r.a.createElement("meta",{name:"theme-color",content:"#000000"}),a&&r.a.createElement("meta",{name:"description",content:""}),r.a.createElement("link",{rel:"icon",href:"%PUBLIC_URL%/favicon.png"}),r.a.createElement("link",{rel:"manifest",href:"%PUBLIC_URL%/manifest.json"}),r.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,600;0,700;1,400&display=swap",rel:"stylesheet"}),r.a.createElement("title",null,t))},re=function(){var e=v(),t=e.signIn,a=e.isLoggedIn,l=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=navigator.userAgent;/Android|webOS|iPhone|iPad|iPod/i.test(e)&&r(!0)}),[]),{isMobile:a}}().isMobile,c=Object(n.useState)(""),o=Object(i.a)(c,2),s=o[0],u=o[1],d=Object(n.useState)(""),f=Object(i.a)(d,2),p=f[0],E=f[1],b=B({url:"/auth/signin",method:"POST"},!1),g=Object(i.a)(b,2),h=g[0],O=h.error,k=h.isFetching,j=h.data,w=g[1],S=B({url:"/auth/withid/signin",method:"POST"},!1),y=Object(i.a)(S,2),C=y[0],I=C.isFetching,L=C.data,x=y[1],A=Object(n.useState)({hasError:!1,message:""}),P=Object(i.a)(A,2),T=P[0],z=P[1];Object(n.useEffect)((function(){200===(null===L||void 0===L?void 0:L.status)&&t({id:s}),400===(null===L||void 0===L?void 0:L.status)&&z({hasError:!0,message:"System Id is not valid."})}),[L]),Object(n.useEffect)((function(){(function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te()();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",z({hasError:!0,message:"Please install MetaMask!"}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){O&&z({hasError:!0,message:O.toString()}),200===(null===j||void 0===j?void 0:j.status)&&j.accessToken&&t({token:j.accessToken,account:p,isActive:j.isActiveBucket})}),[O,j]);var D=function(){new M.a(M.a.givenProvider).eth.requestAccounts().then((function(e){null!==e[0]&&(E(e[0]),w({wallet:e[0]}))})).catch((function(e){z({hasError:!0,message:e.toString()})}))};return 400===(null===j||void 0===j?void 0:j.status)?r.a.createElement(m.a,{to:"/sign-up"}):a?r.a.createElement(m.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{title:"Wineth - Sign in"}),r.a.createElement("div",{className:"l-form"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-img"},r.a.createElement("img",{src:N.a,alt:"Logo Wineth"})),r.a.createElement("input",{className:"input bottom",placeholder:"System ID",onChange:function(e){return u(e.target.value)}}),T.hasError&&r.a.createElement(q,{className:"bottom",message:T.message}),k||I?r.a.createElement(V,null):r.a.createElement(r.a.Fragment,null,l?r.a.createElement(W,{variant:!0,message:"Login con Metamask/TrustWallet",onClick:D}):r.a.createElement(W,{variant:!0,message:"Login con Metamask",onClick:D}),r.a.createElement(W,{onClick:function(){if(!s)return z({hasError:!0,message:"Enter the system id."});x({id:s})},message:"Ingresar"}))),!l&&r.a.createElement(X,{params:{particles:{number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}})))},le=function(){var e=Object(m.g)().id,t=v(),a=t.signIn,l=t.isLoggedIn,c=Object(n.useState)(""),o=Object(i.a)(c,2),s=o[0],u=o[1],d=B({url:"/auth/signup",method:"POST"},!1),f=Object(i.a)(d,2),p=f[0],E=p.error,b=p.isFetching,g=p.data,h=f[1],O=Object(n.useState)({hasError:!1,message:""}),k=Object(i.a)(O,2),j=k[0],w=k[1];Object(n.useEffect)((function(){(function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te()();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",w({hasError:!0,message:"Please install MetaMask!"}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){E&&w({hasError:!0,message:E.toString()}),400===g.status&&w({hasError:!0,message:g.message}),200===g.status&&g.accessToken&&a({token:g.accessToken,account:s})}),[E,g]);return l?r.a.createElement(m.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{title:"Wineth - Sign up"}),r.a.createElement("div",{className:"l-form"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-img"},r.a.createElement("img",{src:N.a,alt:"Logo Wineth"})),r.a.createElement("input",{className:"input bottom",placeholder:"System ID: ".concat(e||"1"),onChange:console.log,disabled:!0}),j.hasError&&r.a.createElement(q,{className:"bottom",message:j.message}),r.a.createElement("span",{className:"form-message"},"Inicia sesion con metamask para continuar."),b?r.a.createElement(V,null):r.a.createElement(W,{variant:!0,message:"Registro con Metamask/TrustWallet",onClick:function(){new M.a(M.a.givenProvider).eth.requestAccounts().then((function(t){null!==t[0]&&(u(t[0]),h({wallet:t[0],sponsorId:e||1}))})).catch((function(e){w({hasError:!0,message:e.toString()})}))}})),r.a.createElement(X,null)))},ce=a(298),ie=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!==t.current&&new ce.a(t.current,{template:"polina",enableSearch:!1,nodes:e.nodes,nodeBinding:{field_0:"userId",field_1:"wallet"},tags:{subLevels0:{subLevels:0},subLevels1:{subLevels:1},subLevels2:{subLevels:2},subLevels3:{subLevels:3}}})}),[e.nodes]),r.a.createElement("div",{id:"tree",ref:t})},oe=function(){var e=Object(m.g)().id,t=v().user,a=B({method:"GET",url:"/matrix/tree/".concat(e)}),n=Object(i.a)(a,1)[0],l=n.isFetching,c=n.data,o=n.error;if(l)return r.a.createElement("div",null,"Fetching...");if(o)return null;return r.a.createElement("div",null,400===(null===c||void 0===c?void 0:c.status)||0===(null===c||void 0===c?void 0:c.treeView.level1.length)?r.a.createElement("p",null,"No data partners"):r.a.createElement(ie,{nodes:function(){var a=1,n=[{id:a,wallet:null===t||void 0===t?void 0:t.account,userId:e}];return c.treeView.level1.map((function(e){++a,n.push({id:a,pid:1,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),c.treeView.level2.slice(0,2).map((function(e){++a,n.push({id:a,pid:2,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),c.treeView.level2.slice(2,4).map((function(e){++a,n.push({id:a,pid:3,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),c.treeView.level3.slice(0,2).map((function(e){++a,n.push({id:a,pid:4,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),c.treeView.level3.slice(2,4).map((function(e){++a,n.push({id:a,pid:5,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),c.treeView.level3.slice(4,6).map((function(e){++a,n.push({id:a,pid:6,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),c.treeView.level3.slice(6,8).map((function(e){++a,n.push({id:a,pid:7,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),n}()}),r.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}))},se=a(834),ue=a(836),me=a(839),de=a(840),ve=a(837),fe=a(838),pe=Object(se.a)({table:{width:600,backgroundColor:"#1A1C2D"},tableCell:{color:"#888ea8"},amount:{color:"#e0e6ed"}}),Ee=function(e){var t=pe(),a=Object(m.g)().id,n=B({method:"GET",url:"/user/profits/getdata/".concat(a)}),l=Object(i.a)(n,1)[0],c=l.data,o=l.isFetching;return l.error?null:o?r.a.createElement(V,null):r.a.createElement("div",{className:"l-profit"},r.a.createElement("div",null,r.a.createElement(ue.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(ve.a,null,r.a.createElement(fe.a,null,r.a.createElement(de.a,{className:t.tableCell,align:"center"},"ID"),r.a.createElement(de.a,{className:t.tableCell,align:"center"},"Wallet"),r.a.createElement(de.a,{className:t.amount,align:"right"},"Amount"))),r.a.createElement(me.a,null,0!==(null===c||void 0===c?void 0:c.getProfits.length)?null===c||void 0===c?void 0:c.getProfits.map((function(e){return r.a.createElement(fe.a,{key:e.id},r.a.createElement(de.a,{className:t.tableCell},e.user.id),r.a.createElement(de.a,{align:"center",className:t.tableCell},e.user.addressWallet),r.a.createElement(de.a,{align:"right",className:t.amount},"+",e.amount))})):r.a.createElement(fe.a,null,r.a.createElement(de.a,{colSpan:3,className:t.amount,align:"center"},"No hay data que mostrar"))))),r.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}))},be=function(){return r.a.createElement("div",null,r.a.createElement("span",null,"404 not found"))},ge=function(){return r.a.createElement(u.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/sign-in",component:re}),r.a.createElement(m.b,{exact:!0,path:"/sign-up/:id?",component:le}),r.a.createElement(I,null,r.a.createElement(f,{exact:!0,path:"/",component:Z}),r.a.createElement(f,{exact:!0,path:"/partners/:id",component:oe}),r.a.createElement(f,{exact:!0,path:"/profits/:id",component:Ee})),r.a.createElement(m.b,{path:"*",component:be})))},he=a(9),Oe=a(10),ke=a(18),je=a(17),Ne=function(e){Object(ke.a)(a,e);var t=Object(je.a)(a);function a(e){var n;return Object(he.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(Oe.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(t)}},{key:"render",value:function(){var e=this.state.hasError,t=this.props,a=t.children,n=t.fallback;return e?n:a}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(n.Component),we=function(){return r.a.createElement("div",{className:"l-error"},r.a.createElement("img",{src:N.a,alt:"Wineth"}),r.a.createElement("p",null,"Opppsss, ocurrio un error..."),r.a.createElement("a",{href:"/sign-in"},r.a.createElement(W,{message:"Sacame de aqui",onClick:function(){return localStorage.clear()}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(814);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ne,{fallback:r.a.createElement(we,null)},r.a.createElement(s,null,r.a.createElement(ge,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[302,1,2]]]);
//# sourceMappingURL=main.b4e66f49.chunk.js.map