(this.webpackJsonpwineth=this.webpackJsonpwineth||[]).push([[0],{308:function(e,t,a){e.exports=a(821)},322:function(e,t){},324:function(e,t){},336:function(e,t){},338:function(e,t){},366:function(e,t){},368:function(e,t){},369:function(e,t){},375:function(e,t){},377:function(e,t){},395:function(e,t){},398:function(e,t){},414:function(e,t){},417:function(e,t){},445:function(e,t){},454:function(e,t){},472:function(e,t){},474:function(e,t){},487:function(e,t){},488:function(e,t){},50:function(e,t,a){e.exports=a.p+"static/media/logo.c1084b5b.png"},547:function(e,t){},558:function(e,t){},561:function(e,t){},613:function(e,t,a){var n={"./bucket_1.png":614,"./bucket_2.png":615,"./bucket_3.png":616,"./bucket_4.png":617,"./bucket_5.png":618};function l(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}l.keys=function(){return Object.keys(n)},l.resolve=r,e.exports=l,l.id=613},614:function(e,t,a){e.exports=a.p+"static/media/bucket_1.5c4f2766.png"},615:function(e,t,a){e.exports=a.p+"static/media/bucket_2.a91692a5.png"},616:function(e,t,a){e.exports=a.p+"static/media/bucket_3.60fad8d6.png"},617:function(e,t,a){e.exports=a.p+"static/media/bucket_4.895645ff.png"},618:function(e,t,a){e.exports=a.p+"static/media/bucket_5.66804fae.png"},820:function(e,t,a){},821:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(291),i=a.n(r),o=a(10),c=Object(n.createContext)(),s=function(e){var t=e.children,a=Object(n.useState)(null),r=Object(o.a)(a,2),i=r[0],s=r[1],u=Object(n.useState)(!0),d=Object(o.a)(u,2),m=d[0],v=d[1];Object(n.useEffect)((function(){var e=localStorage.getItem("@storage");try{e&&s(null),s(JSON.parse(e))}catch(t){console.log(t)}finally{v(!1)}}),[]);var f=Object(n.useCallback)((function(e){localStorage.removeItem("@storage"),localStorage.setItem("@storage",JSON.stringify(e)),s(e)}),[]),p=Object(n.useCallback)((function(e){localStorage.setItem("@storage",JSON.stringify(e)),s(e)}),[]),b=Object(n.useCallback)((function(){localStorage.removeItem("@storage"),s(null)}),[]);return m?l.a.createElement("p",null,"loading...."):l.a.createElement(c.Provider,{value:{user:i,signIn:p,signOut:b,isLoggedIn:!!i,reload:f},children:t})},u=a(30),d=a(26),m=a(299),v=function(){return Object(n.useContext)(c)},f=function(e){var t=e.component,a=Object(m.a)(e,["component"]),n=v().isLoggedIn;return l.a.createElement(d.b,Object.assign({},a,{render:function(e){return n?l.a.createElement(t,e):l.a.createElement(d.a,{to:"/sign-in"})}}))},p=a(40),b=a(86),E=a(55),g=function(e){var t=e.message,a=e.icon,n=e.routeName,r=e.dropdown,i=e.onClick;return l.a.createElement(u.b,{onClick:i,to:n,className:"list-tile"},l.a.createElement("div",{className:"list-tile-content"},l.a.createElement("div",null,a,l.a.createElement("span",null,t)),r&&l.a.createElement(p.a,{className:"list-tile-icon icon"})))},h=[{id:1,routeName:"/",message:"Dashboard",icon:l.a.createElement(p.b,{className:"list-tile-icon"})},{id:2,routeName:"/partners",message:"Partners",icon:l.a.createElement(b.a,{className:"list-tile-icon"})},{id:3,routeName:"/profits",message:"Profits",icon:l.a.createElement(p.d,{className:"list-tile-icon"})},{id:4,routeName:"/donations",message:"Donations",icon:l.a.createElement(p.e,{className:"list-tile-icon"})}],k=function(e){var t=v().user;return l.a.createElement("aside",{className:"sidebar ".concat(e.active?"sidebar-show":"")},l.a.createElement("ul",{className:"sidebar-list"},h.map((function(a){var n,r,i,o="/";return o="/partners"===a.routeName?"".concat(a.routeName,"/").concat((null===t||void 0===t?void 0:t.token)?null===(n=Object(E.decode)(null===t||void 0===t?void 0:t.token))||void 0===n?void 0:n.id:null===t||void 0===t?void 0:t.id):"/profits"===a.routeName?"".concat(a.routeName,"/").concat((null===t||void 0===t?void 0:t.token)?null===(r=Object(E.decode)(null===t||void 0===t?void 0:t.token))||void 0===r?void 0:r.id:null===t||void 0===t?void 0:t.id):"/donations"===a.routeName?"".concat(a.routeName,"/").concat((null===t||void 0===t?void 0:t.token)?null===(i=Object(E.decode)(null===t||void 0===t?void 0:t.token))||void 0===i?void 0:i.id:null===t||void 0===t?void 0:t.id):a.routeName,l.a.createElement("li",{key:a.id},l.a.createElement(g,{onClick:function(){return e.onSize(!e.active)},message:a.message,routeName:o,icon:a.icon,dropdown:!0}))}))))},N=a(163),O=a(50),j=a.n(O),w=a(53),C=function(){var e=v(),t=e.signOut,a=e.user,r=Object(n.useState)(!1),i=Object(o.a)(r,2),c=i[0],s=i[1];return l.a.createElement("div",{className:"dropdown"},l.a.createElement("div",{onClick:function(){return s((function(e){return!e}))},className:"dropdown-user"},l.a.createElement("div",null,(null===a||void 0===a?void 0:a.account)?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,null===a||void 0===a?void 0:a.account),l.a.createElement(w.a,{className:"dropdown-icon dropdown-disabled"})):l.a.createElement(w.a,{className:"dropdown-icon"}),l.a.createElement(p.f,{className:"dropdown-icon"}))),c&&l.a.createElement("ul",{className:"dropdown-list"},l.a.createElement("li",{className:"dropdown-item"},l.a.createElement(u.b,{to:"#",onClick:function(){return t()}},"Logout"))))},y=function(e){var t,a,r=v().user,i=Object(n.useState)(!1),c=Object(o.a)(i,2),s=(c[0],c[1]);return l.a.createElement("header",{className:"navbar"},l.a.createElement("nav",{className:"nav"},l.a.createElement("div",{className:"nav-left"},l.a.createElement("div",null,l.a.createElement("div",{onClick:function(){return e.onSize(!e.size)}},l.a.createElement(p.c,{className:"nav-menu"})),l.a.createElement("ol",{className:"nav-breadcrumb"},l.a.createElement("li",null,l.a.createElement(u.b,{to:"/"},"Dashboard")),l.a.createElement("span",null,"/"))),l.a.createElement("div",{className:"nav-brand"},l.a.createElement(u.b,{to:"/"},l.a.createElement("img",{src:j.a,alt:"Logo wineth"}))),(null===r||void 0===r?void 0:r.isActive)&&l.a.createElement("ul",{className:"nav-referer"},l.a.createElement("li",{className:"nav-link"},"https://wineth.live/sign-up/",Object(E.decode)(null===r||void 0===r?void 0:r.token).id),l.a.createElement(N.CopyToClipboard,{onCopy:function(){return s(!0)},text:"https://wineth.live/sign-up/".concat((null===r||void 0===r?void 0:r.token)?null===(t=Object(E.decode)(null===r||void 0===r?void 0:r.token))||void 0===t?void 0:t.id:null===r||void 0===r?void 0:r.id)},l.a.createElement("span",{className:"nav-copy"},"Copiar"))),(null===r||void 0===r?void 0:r.isActive)&&l.a.createElement("ul",{className:"nav-referer-mobile"},l.a.createElement(N.CopyToClipboard,{onCopy:function(){return s(!0)},text:"https://wineth.live/sign-up/".concat((null===r||void 0===r?void 0:r.token)?null===(a=Object(E.decode)(null===r||void 0===r?void 0:r.token))||void 0===a?void 0:a.id:null===r||void 0===r?void 0:r.id)},l.a.createElement("span",{className:"nav-copy"},"Copiar link")))),l.a.createElement(C,null)))},S=function(){return l.a.createElement("footer",{className:"footer"},l.a.createElement("p",null,"Copyright \xa9 ",(new Date).getFullYear(),", All rights reserved."))},L=function(e){var t=e.children,a=v().isLoggedIn,r=Object(n.useState)(!1),i=Object(o.a)(r,2),c=i[0],s=i[1],u=function(e){return s(e)};return a?l.a.createElement("div",{className:"layout"},l.a.createElement(y,{onSize:u,size:c}),l.a.createElement(k,{active:c,onSize:u}),l.a.createElement("section",{className:"layout-content"},t,l.a.createElement(S,null))):l.a.createElement(d.a,{to:"/sign-in"})},A=a(293),I=function(e){var t=e.logo,a=e.total,n=e.title;return l.a.createElement("div",{className:"card"},t,l.a.createElement("div",null,l.a.createElement("span",null,n),l.a.createElement("span",null,a)))},x=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"shimmer-effect"}),l.a.createElement("div",{className:"shimmer-effect"}),l.a.createElement("div",{className:"shimmer-effect"}),l.a.createElement("div",{className:"shimmer-effect"}))},_=a(22),P=a.n(_),F=a(66),T="https://wineth.live/api",z=a(41),D=a.n(z),M=function(e){var t=e.url,a=e.body,l=e.method,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=v(),c=i.user,s=Object(n.useState)(r),u=Object(o.a)(s,2),d=u[0],m=u[1],f=Object(n.useState)(""),p=Object(o.a)(f,2),b=p[0],E=p[1],g=Object(n.useState)({}),h=Object(o.a)(g,2),k=h[0],N=h[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),w=j[0],C=j[1],y=Object(n.useCallback)(function(){var e=Object(F.a)(P.a.mark((function e(n){var r,i,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Accept","application/json"),r.append("Content-Type","application/json"),(null===c||void 0===c?void 0:c.token)&&r.append("Authorization","".concat(null===c||void 0===c?void 0:c.token)),m(!0),e.next=8,fetch("".concat(T).concat(t),{headers:r,method:l,body:n?JSON.stringify(n):JSON.stringify(a)});case 8:return i=e.sent,e.next=11,i.json();case 11:o=e.sent,N(o),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),E(e.t0.toString());case 18:return e.prev=18,m(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),[t,a,l,c]);return Object(n.useEffect)((function(){(r||w)&&y()}),[y,r,w]),[{isFetching:d,error:b,data:k},y,C]},B=function(e){var t=v().user,a=e.refetch,r=M({url:"/user/profits",method:"GET"},!1),i=Object(o.a)(r,2),c=i[0],s=c.isFetching,u=c.data,d=c.error,m=i[1],f=M({url:"/user/profits/".concat(null===t||void 0===t?void 0:t.id),method:"GET"},!1),p=Object(o.a)(f,2),E=p[0],g=E.isFetching,h=E.data,k=p[1];return Object(n.useEffect)((function(){(null===t||void 0===t?void 0:t.id)?k():m()}),[]),Object(n.useEffect)((function(){a&&m()}),[a]),s||g?l.a.createElement(x,null):d?null:l.a.createElement(l.a.Fragment,null,l.a.createElement(I,{logo:l.a.createElement(w.a,{className:"home-icon"}),title:"Donaciones recibidas",total:(null===h||void 0===h?void 0:h.profits)?h.profits?h.profits:0:(null===u||void 0===u?void 0:u.profits)?u.profits:0}),l.a.createElement(I,{logo:l.a.createElement(A.a,{className:"home-icon"}),title:"Donaciones en Dolares",total:"$".concat((null===h||void 0===h?void 0:h.usdProfits)?h.usdProfits?h.usdProfits:"0.00":(null===u||void 0===u?void 0:u.usdProfits)?u.usdProfits:"0.00")}),l.a.createElement(I,{logo:l.a.createElement(b.a,{className:"home-icon"}),title:"Total Partners",total:(null===h||void 0===h?void 0:h.partners)?h.partners?h.partners:0:(null===u||void 0===u?void 0:u.partners)?u.partners:0}),l.a.createElement(I,{logo:l.a.createElement(w.b,{className:"home-icon"}),title:"Ultimo Bucket",total:(null===h||void 0===h?void 0:h.lastBucket)?h.lastBucket?h.lastBucket:0:(null===u||void 0===u?void 0:u.lastBucket)?u.lastBucket:0}))},V=function(e){var t=e.message,a=e.onClick,n=e.variant,r=e.disabled;return l.a.createElement("input",{disabled:r,type:"button",value:t,className:"button ".concat(r?"button-disabled":""," ").concat(n?"button-outline":""),onClick:a})},W=function(){return l.a.createElement("div",{className:"loader"})},G=function(e){var t=v().user,n=e.name,r=e.price,i=e.id,o=e.onClick,c=e.isLoading,s=e.bucketId,u=e.active,d=e.expire,m=e.isEnabled;return l.a.createElement("div",{className:"bucket"},l.a.createElement("div",{className:"bucket-img"},l.a.createElement("img",{src:a(613)("./bucket_".concat(i,".png")),alt:"bucket wineth"})),l.a.createElement("div",{className:"bucket-footer"},l.a.createElement("div",{className:"bucket-details"},l.a.createElement("p",null,n),l.a.createElement("span",null,l.a.createElement(w.a,{className:"bucket-icon"}),l.a.createElement("span",{className:"bucket-price"},r))),(null===t||void 0===t?void 0:t.token)?l.a.createElement(l.a.Fragment,null,u&&l.a.createElement("div",{className:"bucket-expire ".concat(d<=5?"bucket-warning":"")},l.a.createElement("span",null,"Expira en ",d," dias")),c&&i===s?l.a.createElement("div",{className:"bucket-loader"},l.a.createElement(W,null)):l.a.createElement(V,{disabled:u||!m,message:"".concat(u?"Activada":"Activar"),onClick:o})):null))},J=function(e){var t=e.refetch,a=M({url:"/bucket/getAll/".concat(e.id),method:"GET"}),r=Object(o.a)(a,2),i=r[0],c=i.isFetching,s=i.data,u=i.error,d=r[1],m=M({url:"/matrix/join_red",method:"POST"},!1),v=Object(o.a)(m,2),f=v[0],p=f.isFetching,b=f.data,E=v[1],g=Object(n.useState)(),h=Object(o.a)(g,2),k=h[0],N=h[1];Object(n.useEffect)((function(){(null===b||void 0===b?void 0:b.status)&&e.onModal(!0,k)}),[b,k]),Object(n.useEffect)((function(){t&&d()}),[t]);var O=function(){var e=Object(F.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(t),E();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?l.a.createElement("div",{className:"loader-bucket"},l.a.createElement(W,null)):u?null:l.a.createElement(l.a.Fragment,null,null===s||void 0===s?void 0:s.map((function(e){return l.a.createElement(G,{active:e.status,expire:e.expire,onClick:function(){return O(e.id)},key:e.id,id:e.id,bucketId:k,name:e.name,price:e.price,isLoading:p,isEnabled:e.isEnabled})})))},U=function(e){var t=e.children,a=e.onClosed,n=e.className;return l.a.createElement("div",{className:"overlay ".concat(n||"")},l.a.createElement(b.b,{className:"modal-close",onClick:a}),t)},R=a(46),q=function(e){var t=e.message,a=e.className;return l.a.createElement("div",{className:"error ".concat(a||"")},l.a.createElement(p.g,{className:"error-icon"}),l.a.createElement("span",{className:"error-message"},t))},H=function(e){var t=e.step;return l.a.createElement("div",{className:"content-indicator"},l.a.createElement("div",{className:1===t?"progress-indicator-active":"progress-indicator"}," 1 "),l.a.createElement("span",{style:{backgroundColor:2===t?"#0A51A1":"#1b2e4b"}}),l.a.createElement("div",{className:2===t?"progress-indicator-active":"progress-indicator"}," 2 "),l.a.createElement("span",{style:{backgroundColor:3===t?"#0A51A1":"#1b2e4b"}}),l.a.createElement("div",{className:3===t?"progress-indicator-active":"progress-indicator"}," 3 "))},$=new D.a(D.a.givenProvider),Y=function(e){var t,a,r=v(),i=r.user,c=r.reload,s=e.isFetching,u=e.data,d=e.bucketId,m=e.onClose,f=e.refetch,p=Object(n.useState)(!1),b=Object(o.a)(p,2),E=b[0],g=b[1],h=Object(n.useState)(1),k=Object(o.a)(h,2),N=k[0],O=k[1],C=M({url:"/transaction/validate",method:"POST"},!1),y=Object(o.a)(C,2),S=y[0],L=S.isFetching,A=S.data,I=y[1],x=Object(n.useState)((function(){var e,t,a,n,l,r,i,o,c,s,d,m={},v=0;for(var f in null===u||void 0===u?void 0:u.AscendingLine)if(v++,"pending"===(null===u||void 0===u?void 0:u.AscendingLine[f].status)){m={amount:null===u||void 0===u?void 0:u.AscendingLine[f].amount,wallet:null===u||void 0===u?void 0:u.AscendingLine[f].address,userId:null===u||void 0===u?void 0:u.AscendingLine[f].user,wei:null===u||void 0===u?void 0:u.AscendingLine[f].wei,status:null===u||void 0===u?void 0:u.AscendingLine[f].status};break}var p=!!(null===(e=m)||void 0===e?void 0:e.amount);return{step:0!==v?v:1,error:{hasError:!1,message:""},info:{amount:p?m.amount:null===u||void 0===u||null===(t=u.AscendingLine)||void 0===t||null===(a=t.nivel1)||void 0===a?void 0:a.amount,wallet:p?m.wallet:null===u||void 0===u||null===(n=u.AscendingLine)||void 0===n||null===(l=n.nivel1)||void 0===l?void 0:l.address,userId:p?m.userId:null===u||void 0===u||null===(r=u.AscendingLine)||void 0===r||null===(i=r.nivel1)||void 0===i?void 0:i.user,wei:p<=0?m.wei:null===u||void 0===u||null===(o=u.AscendingLine)||void 0===o||null===(c=o.nivel1)||void 0===c?void 0:c.wei,status:p<=0?m.status:null===u||void 0===u||null===(s=u.AscendingLine)||void 0===s||null===(d=s.nivel1)||void 0===d?void 0:d.status},message:""}})),_=Object(o.a)(x,2),P=_[0],F=_[1];Object(n.useEffect)((function(){3!==N||L||(c({token:null===i||void 0===i?void 0:i.token,isActive:!0,account:i.account}),f(!0),m((function(e){return!e})),O(1))}),[N]),Object(n.useEffect)((function(){400===(null===A||void 0===A?void 0:A.status)&&F((function(e){return Object(R.a)(Object(R.a)({},e),{},{error:{hasError:!0,message:null===A||void 0===A?void 0:A.message}})})),200===(null===A||void 0===A?void 0:A.status)&&(null===A||void 0===A?void 0:A.validate)&&F((function(e){var t,a,n,l,r,o,s,d,m,v,f,p,b,E,g,h,k,N,j,w;return e.step>=3?(O(3),c({token:null===i||void 0===i?void 0:i.token,isActive:!0,account:i.account}),window.location.reload(),{step:1,error:{hasError:!1,message:""},info:{amount:null===u||void 0===u||null===(f=u.AscendingLine)||void 0===f||null===(p=f.nivel1)||void 0===p?void 0:p.amount,wallet:null===u||void 0===u||null===(b=u.AscendingLine)||void 0===b||null===(E=b.nivel1)||void 0===E?void 0:E.address,userId:null===u||void 0===u||null===(g=u.AscendingLine)||void 0===g||null===(h=g.nivel1)||void 0===h?void 0:h.user,wei:null===u||void 0===u||null===(k=u.AscendingLine)||void 0===k||null===(N=k.nivel1)||void 0===N?void 0:N.wei,status:null===u||void 0===u||null===(j=u.AscendingLine)||void 0===j||null===(w=j.nivel1)||void 0===w?void 0:w.status},message:""}):Object(R.a)(Object(R.a)({},e),{},{step:e.step+1,info:{amount:null===u||void 0===u||null===(t=u.AscendingLine)||void 0===t||null===(a=t["nivel".concat(e.step+1)])||void 0===a?void 0:a.amount,wallet:null===u||void 0===u||null===(n=u.AscendingLine)||void 0===n||null===(l=n["nivel".concat(e.step+1)])||void 0===l?void 0:l.address,userId:null===u||void 0===u||null===(r=u.AscendingLine)||void 0===r||null===(o=r["nivel".concat(e.step+1)])||void 0===o?void 0:o.user,wei:null===u||void 0===u||null===(s=u.AscendingLine)||void 0===s||null===(d=s["nivel".concat(e.step+1)])||void 0===d?void 0:d.wei,status:null===u||void 0===u||null===(m=u.AscendingLine)||void 0===m||null===(v=m["nivel".concat(e.step+1)])||void 0===v?void 0:v.status}})}))}),[A]);return s||L||E?l.a.createElement("div",{className:"progress"},l.a.createElement(W,null),l.a.createElement("p",{className:"progress-message"},P.message)):l.a.createElement("div",{style:{height:P.error.hasError?400:300},className:"progress"},l.a.createElement("img",{className:"progress-img",src:j.a,alt:"wineth"}),l.a.createElement(H,{step:P.step}),l.a.createElement("section",{className:"progress-section"},l.a.createElement("div",{className:"progress-details"},l.a.createElement("span",null,"Monto: "),l.a.createElement("div",null,l.a.createElement(w.a,{className:"progress-icon"}),l.a.createElement("span",null,null===P||void 0===P||null===(t=P.info)||void 0===t?void 0:t.amount))),l.a.createElement("input",{disabled:!0,type:"text",className:"input progress-input",defaultValue:null===P||void 0===P||null===(a=P.info)||void 0===a?void 0:a.wallet}),P.error.hasError&&l.a.createElement(q,{message:P.error.message}),l.a.createElement(V,{message:"Siguiente",onClick:function(){g(!0),F((function(e){return Object(R.a)(Object(R.a)({},e),{},{message:"Por favor espere, esperando confirmacion."})})),$.eth.sendTransaction({from:i.account,to:P.info.wallet,value:$.utils.toWei("".concat(P.info.amount),"ether")}).then((function(e){I({hash:e.transactionHash,amount:P.info.amount,walletReceived:P.info.wallet,bucketId:d,receiveId:P.info.userId}),F((function(e){return Object(R.a)(Object(R.a)({},e),{},{message:"Verificando transaccion..."})}))})).catch((function(e){return F((function(e){return Object(R.a)(Object(R.a)({},e),{},{error:{hasError:!0,message:"Error when proceeding with payment"}})}))})).finally((function(){return g(!1)}))}})))},K=a(294),Q=a.n(K),X=function(e){var t=e.params;return l.a.createElement("div",{className:"particle"},l.a.createElement(Q.a,{className:"particles",params:t}))},Z=function(){var e,t=v().user,a=Object(n.useState)(!1),r=Object(o.a)(a,2),i=r[0],c=r[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),d=u[0],m=u[1],f=Object(n.useState)(),p=Object(o.a)(f,2),b=p[0],g=p[1],h=M({method:"GET",url:"/matrix/sponsors/".concat(b)},!1),k=Object(o.a)(h,2),N=k[0],O=N.data,j=N.isFetching,w=(N.error,k[1]);Object(n.useEffect)((function(){b&&w()}),[b]);var C=function(e){return m(e)},y=Object(n.useMemo)((function(){return l.a.createElement(U,{onClosed:function(){return c((function(e){return!e}))},className:i?"active":""},l.a.createElement(Y,{refetch:C,onClose:c,isFetching:j,data:O,bucketId:b}))}),[i,j,O,b]);return l.a.createElement("div",null,l.a.createElement("div",{className:"home-statistics"},l.a.createElement(B,{refetch:d})),l.a.createElement("main",{className:"l-main"},l.a.createElement(J,{refetch:d,id:(null===t||void 0===t?void 0:t.token)?null===(e=Object(E.decode)(t.token))||void 0===e?void 0:e.id:null===t||void 0===t?void 0:t.id,onModal:function(e,t){c(e),g(t)}})),l.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}),(null===O||void 0===O?void 0:O.AscendingLine)&&y)},ee=a(117),te=a.n(ee),ae=a(295),ne=function(e){var t=e.title,a=e.description;return l.a.createElement(ae.a,null,l.a.createElement("meta",{charset:"utf-8"}),l.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),l.a.createElement("meta",{name:"theme-color",content:"#000000"}),a&&l.a.createElement("meta",{name:"description",content:""}),l.a.createElement("link",{rel:"icon",href:"%PUBLIC_URL%/favicon.png"}),l.a.createElement("link",{rel:"manifest",href:"%PUBLIC_URL%/manifest.json"}),l.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,600;0,700;1,400&display=swap",rel:"stylesheet"}),l.a.createElement("title",null,t))},le=function(){var e=v(),t=e.signIn,a=e.isLoggedIn,r=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){var e=navigator.userAgent;/Android|webOS|iPhone|iPad|iPod/i.test(e)&&l(!0)}),[]),{isMobile:a}}().isMobile,i=Object(n.useState)(""),c=Object(o.a)(i,2),s=c[0],u=c[1],m=Object(n.useState)(""),f=Object(o.a)(m,2),p=f[0],b=f[1],E=M({url:"/auth/signin",method:"POST"},!1),g=Object(o.a)(E,2),h=g[0],k=h.error,N=h.isFetching,O=h.data,w=g[1],C=M({url:"/auth/withid/signin",method:"POST"},!1),y=Object(o.a)(C,2),S=y[0],L=S.isFetching,A=S.data,I=y[1],x=Object(n.useState)({hasError:!1,message:""}),_=Object(o.a)(x,2),T=_[0],z=_[1];Object(n.useEffect)((function(){200===(null===A||void 0===A?void 0:A.status)&&t({id:s}),400===(null===A||void 0===A?void 0:A.status)&&z({hasError:!0,message:"System Id is not valid."})}),[A]),Object(n.useEffect)((function(){(function(){var e=Object(F.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te()();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",z({hasError:!0,message:"Please install MetaMask!"}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){k&&z({hasError:!0,message:k.toString()}),200===(null===O||void 0===O?void 0:O.status)&&O.accessToken&&t({token:O.accessToken,account:p,isActive:O.isActiveBucket})}),[k,O]);var B=function(){new D.a(D.a.givenProvider).eth.requestAccounts().then((function(e){null!==e[0]&&(b(e[0]),w({wallet:e[0]}))})).catch((function(e){z({hasError:!0,message:e.toString()})}))};return 400===(null===O||void 0===O?void 0:O.status)?l.a.createElement(d.a,{to:"/sign-up"}):a?l.a.createElement(d.a,{to:"/"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(ne,{title:"Wineth - Sign in"}),l.a.createElement("div",{className:"l-form"},l.a.createElement("form",{className:"form"},l.a.createElement("div",{className:"form-img"},l.a.createElement("img",{src:j.a,alt:"Logo Wineth"})),l.a.createElement("input",{className:"input bottom",placeholder:"System ID",onChange:function(e){return u(e.target.value)}}),T.hasError&&l.a.createElement(q,{className:"bottom",message:T.message}),N||L?l.a.createElement(W,null):l.a.createElement(l.a.Fragment,null,r?l.a.createElement(V,{variant:!0,message:"Login con Metamask/TrustWallet",onClick:B}):l.a.createElement(V,{variant:!0,message:"Login con Metamask",onClick:B}),l.a.createElement(V,{onClick:function(){if(!s)return z({hasError:!0,message:"Enter the system id."});I({id:s})},message:"Ingresar"}))),!r&&l.a.createElement(X,{params:{particles:{number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}})))},re=function(){var e=Object(d.g)().id,t=v(),a=t.signIn,r=t.isLoggedIn,i=Object(n.useState)(""),c=Object(o.a)(i,2),s=c[0],u=c[1],m=M({url:"/auth/signup",method:"POST"},!1),f=Object(o.a)(m,2),p=f[0],b=p.error,E=p.isFetching,g=p.data,h=f[1],k=Object(n.useState)({hasError:!1,message:""}),N=Object(o.a)(k,2),O=N[0],w=N[1];Object(n.useEffect)((function(){(function(){var e=Object(F.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te()();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",w({hasError:!0,message:"Please install MetaMask!"}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){b&&w({hasError:!0,message:b.toString()}),400===g.status&&w({hasError:!0,message:g.message}),200===g.status&&g.accessToken&&a({token:g.accessToken,account:s})}),[b,g]);return r?l.a.createElement(d.a,{to:"/"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(ne,{title:"Wineth - Sign up"}),l.a.createElement("div",{className:"l-form"},l.a.createElement("form",{className:"form"},l.a.createElement("div",{className:"form-img"},l.a.createElement("img",{src:j.a,alt:"Logo Wineth"})),l.a.createElement("input",{className:"input bottom",placeholder:"System ID: ".concat(e||"1"),onChange:console.log,disabled:!0}),O.hasError&&l.a.createElement(q,{className:"bottom",message:O.message}),l.a.createElement("span",{className:"form-message"},"Registrate para continuar."),E?l.a.createElement(W,null):l.a.createElement(V,{variant:!0,message:"Registro con Metamask/TrustWallet",onClick:function(){new D.a(D.a.givenProvider).eth.requestAccounts().then((function(t){null!==t[0]&&(u(t[0]),h({wallet:t[0],sponsorId:e||1}))})).catch((function(e){w({hasError:!0,message:e.toString()})}))}})),l.a.createElement(X,null)))},ie=a(298),oe=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!==t.current&&new ie.a(t.current,{template:"polina",enableSearch:!1,nodes:e.nodes,nodeBinding:{field_0:"userId",field_1:"wallet"},tags:{subLevels0:{subLevels:0},subLevels1:{subLevels:1},subLevels2:{subLevels:2},subLevels3:{subLevels:3}}})}),[e.nodes]),l.a.createElement("div",{id:"tree",ref:t})},ce=function(){var e=Object(d.g)().id,t=v().user,a=M({method:"GET",url:"/matrix/tree/".concat(e)}),n=Object(o.a)(a,1)[0],r=n.isFetching,i=n.data,c=n.error;if(r)return l.a.createElement("div",null,"Fetching...");if(c)return null;return l.a.createElement("div",null,400===(null===i||void 0===i?void 0:i.status)||0===(null===i||void 0===i?void 0:i.treeView.level1.length)?l.a.createElement("p",null,"No data partners"):l.a.createElement(oe,{nodes:function(){var a=1,n=[{id:a,wallet:null===t||void 0===t?void 0:t.account,userId:e}];return i.treeView.level1.map((function(e){++a,n.push({id:a,pid:1,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),i.treeView.level2.slice(0,2).map((function(e){++a,n.push({id:a,pid:2,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),i.treeView.level2.slice(2,4).map((function(e){++a,n.push({id:a,pid:3,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),i.treeView.level3.slice(0,2).map((function(e){++a,n.push({id:a,pid:4,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),i.treeView.level3.slice(2,4).map((function(e){++a,n.push({id:a,pid:5,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),i.treeView.level3.slice(4,6).map((function(e){++a,n.push({id:a,pid:6,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),i.treeView.level3.slice(6,8).map((function(e){++a,n.push({id:a,pid:7,wallet:e.sponsors.referers.referer.wallet,userId:e.sponsors.referers.referer.id})})),n}()}),l.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}))},se=a(834),ue=a(836),de=a(839),me=a(840),ve=a(837),fe=a(838),pe=Object(se.a)({table:{width:700,backgroundColor:"#1A1C2D"},tableCell:{color:"#888ea8"},amount:{color:"#e0e6ed"}}),be=function(e){var t=pe(),a=Object(d.g)().id,n=M({method:"GET",url:"/user/profits/getdata/".concat(a)}),r=Object(o.a)(n,1)[0],i=r.data,c=r.isFetching;return r.error?null:c?l.a.createElement(W,null):l.a.createElement("div",{className:"l-profit"},l.a.createElement("div",null,l.a.createElement(ue.a,{className:t.table,"aria-label":"simple table"},l.a.createElement(ve.a,null,l.a.createElement(fe.a,null,l.a.createElement(me.a,{className:t.tableCell,align:"center"},"ID"),l.a.createElement(me.a,{className:t.tableCell,align:"center"},"Hash"),l.a.createElement(me.a,{className:t.amount,align:"right"},"Amount"))),l.a.createElement(de.a,null,0!==(null===i||void 0===i?void 0:i.getProfits.length)?null===i||void 0===i?void 0:i.getProfits.map((function(e){return l.a.createElement(fe.a,{key:e.id},l.a.createElement(me.a,{className:t.tableCell},e.user.id),l.a.createElement(me.a,{align:"center",className:t.tableCell},l.a.createElement("a",{className:"wallet_link",target:"_blank",href:"https://etherscan.io/tx/".concat(e.hash)},e.hash)),l.a.createElement(me.a,{align:"right",className:t.amount},"+",e.amount))})):l.a.createElement(fe.a,null,l.a.createElement(me.a,{colSpan:3,className:t.amount,align:"center"},"No hay data que mostrar"))))),l.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}))},Ee=Object(se.a)({table:{width:800,backgroundColor:"#1A1C2D"},tableCell:{color:"#888ea8"},amount:{color:"#e0e6ed"}}),ge=function(){var e=Ee(),t=Object(d.g)().id,a=M({method:"GET",url:"/user/profits/getsenddata/".concat(t)}),n=Object(o.a)(a,1)[0],r=n.data,i=n.isFetching;return n.error?null:i?l.a.createElement(W,null):l.a.createElement("div",{className:"l-profit"},l.a.createElement("div",null,l.a.createElement(ue.a,{className:e.table,"aria-label":"simple table"},l.a.createElement(ve.a,null,l.a.createElement(fe.a,null,l.a.createElement(me.a,{className:e.tableCell,align:"center"},"ID"),l.a.createElement(me.a,{className:e.tableCell,align:"center"},"Hash"),l.a.createElement(me.a,{className:e.tableCell,align:"right"},"Amount"),l.a.createElement(me.a,{className:e.tableCell,align:"right"},"Date"))),l.a.createElement(de.a,null,0!==(null===r||void 0===r?void 0:r.getProfits.length)?null===r||void 0===r?void 0:r.getProfits.map((function(t){return l.a.createElement(fe.a,{key:t.id},l.a.createElement(me.a,{className:e.tableCell},t.sender),l.a.createElement(me.a,{align:"center",className:e.tableCell},l.a.createElement("a",{className:"wallet_link",target:"_blank",href:"https://etherscan.io/tx/".concat(t.hash)},t.hash)),l.a.createElement(me.a,{align:"right",className:e.tableCell},"+",t.amount),l.a.createElement(me.a,{align:"right",className:e.tableCell},t.date))})):l.a.createElement(fe.a,null,l.a.createElement(me.a,{colSpan:4,className:e.tableCell,align:"center"},"No hay data que mostrar"))))),l.a.createElement(X,{params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}))},he=function(){return l.a.createElement("div",null,l.a.createElement("span",null,"404 not found"))},ke=function(){return l.a.createElement(u.a,null,l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,path:"/sign-in",component:le}),l.a.createElement(d.b,{exact:!0,path:"/sign-up/:id?",component:re}),l.a.createElement(L,null,l.a.createElement(f,{exact:!0,path:"/",component:Z}),l.a.createElement(f,{exact:!0,path:"/partners/:id",component:ce}),l.a.createElement(f,{exact:!0,path:"/profits/:id",component:be}),l.a.createElement(f,{exact:!0,path:"/donations/:id",component:ge})),l.a.createElement(d.b,{path:"*",component:he})))},Ne=a(9),Oe=a(11),je=a(18),we=a(17),Ce=function(e){Object(je.a)(a,e);var t=Object(we.a)(a);function a(e){var n;return Object(Ne.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(Oe.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(t)}},{key:"render",value:function(){var e=this.state.hasError,t=this.props,a=t.children,n=t.fallback;return e?n:a}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(n.Component),ye=function(){return l.a.createElement("div",{className:"l-error"},l.a.createElement("img",{src:j.a,alt:"Wineth"}),l.a.createElement("p",null,"Opppsss, ocurrio un error..."),l.a.createElement("a",{href:"/sign-in"},l.a.createElement(V,{message:"Sacame de aqui",onClick:function(){return localStorage.clear()}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(820);i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Ce,{fallback:l.a.createElement(ye,null)},l.a.createElement(s,null,l.a.createElement(ke,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[308,1,2]]]);
//# sourceMappingURL=main.1f0e1ab0.chunk.js.map